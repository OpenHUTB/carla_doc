# CarlaUnreal Traffic Module 技术文档

## 概述
CarlaUnreal交通模块负责模拟城市环境中动态车辆行为，通过AI控制NPC车辆实现自动驾驶、交通信号响应、路径规划等功能。与Carla仿真核心深度集成，支持可配置的交通流参数。

---

## 核心功能
1. **动态交通流生成**
   - 基于路网拓扑自动生成车辆流
   - 支持密度/速度/生成半径配置
   - 车辆类型随机化（轿车/卡车/摩托等）

2. **车辆行为控制**
   - 基础避障与变道逻辑
   - 交通信号灯响应系统
   - 紧急制动与跟车模型

3. **路径规划系统**
   - 基于Waypoint的路由网络
   - 动态路径重计算
   - 交叉路口优先级管理

4. **交通信号系统**
   - 红绿灯状态同步
   - 基于时间的相位控制
   - 车辆感应触发式信号

5. **性能优化**
   - 动态加载/卸载远端车辆
   - LOD控制机制
   - 多线程路径计算

---


## 常见问题
**Q: 车辆无法生成**
- 检查Waypoint文件路径有效性
- 验证SpawnRadius是否大于最小阈值（200米）

**Q: 车辆卡在交叉路口**
- 调整Waypoint连接半径(wp_connection_radius)
- 检查信号灯相位配置

**Q: 交通流导致性能下降**
- 降低GlobalDensity参数
- 启用bEnableDynamicLOD

---
