# [各模块文档]()

![CARLA Modules](img/build_modules.jpg)

## 一、Carla库：[LibCarla](https://openhutb.github.io/carla_cpp/dir_b14cdd661f9a7048a44f1771cd402401.html)
* [客户端](./modules/client.md) [client](https://openhutb.github.io/carla_cpp/dir_64d7bb605f27024d49af86070bd3f0b6.html)
* [几何变换](./modules/geom.md) [geom](https://openhutb.github.io/carla_cpp/dir_8b032d9d353dba85c86dc5364d785bbe.html)
* [图像](./modules/image.md) [image](https://openhutb.github.io/carla_cpp/dir_f5e43f88654384cf885b20b39b543425.html)
* [多GPU](modules/multigpu.md) [multigpu](https://openhutb.github.io/carla_cpp/dir_a2af28fa3ae0e0a62585ff5a8c898ebe.html)
* [导航](modules/nav.md) [nav](https://openhutb.github.io/carla_cpp/dir_ad0f87b2245230d21b267626b2c7750a.html)
* [路网](modules/opendirve.md) [opendirve](https://openhutb.github.io/carla_cpp/dir_a02f1db122f1bf0661014bee93740912.html)
* [点云](modules/pointcloud.md) [pointcloud](https://openhutb.github.io/carla_cpp/dir_ba5554cd20e2d3b81742218af28f1632.html)
* [性能分析器](modules/profiler.md) [profiler](https://openhutb.github.io/carla_cpp/dir_a44fab28cda52915bea048e19f74f82b.html)
* [深度模型](modules/pytorch.md) [pytorch](https://openhutb.github.io/carla_cpp/dir_1d6fac9cb22f8ab199e8be0190976796.html) 
* [道路](modules/road.md) [road](https://openhutb.github.io/carla_cpp/dir_8afc3b5d71d319c27bc8bd38d925daae.html)
* [机器人操作系统](modules/ros2.md) [ros2](https://openhutb.github.io/carla_cpp/dir_087ce8304d10c4897e4acbeac1a6fcc8.html)
* [远程过程调用](modules/rpc.md) [rpc](https://openhutb.github.io/carla_cpp/dir_83201f30ace02cdf218980110872f8a7.html)
* [责任敏感安全](modules/rpc.md) [rss](https://openhutb.github.io/carla_cpp/dir_4ec6c576fb70278fb3ee02e044838f82.html)
* [传感器](modules/sensor.md) [sensor](https://openhutb.github.io/carla_cpp/dir_8b842c0ad24262c95de16c440fd51527.html)
* [流式传输](modules/streaming.md) [streaming](https://openhutb.github.io/carla_cpp/dir_6d1a5b6c73cd09063239376f47f02d88.html)
* [交通管理器](modules/trafficmanager.md) [trafficmanager](https://openhutb.github.io/carla_cpp/dir_a8dbe3691941680fc0b6dad001059c22.html)



## 二、虚幻插件：[CarlaUnreal](https://openhutb.github.io/carla_cpp/dir_8fc34afb5f07a67966c78bf5319f94ae.html)
* [参与者](modules/Actor.md) [Actor](https://openhutb.github.io/carla_cpp/dir_31691989b6ffa820edb06b9eb32cc520.html)
* [人工智能](modules/AI.md) [AI](https://openhutb.github.io/carla_cpp/dir_cff6f5bec63abb9e5f12c0f62b47389c.html)
* [蓝图库](modules/BlueprintLibary.md) [BlueprintLibary](https://openhutb.github.io/carla_cpp/dir_bd6d94ad3c7534d0f2d8b3ea8c626bc5.html)
* [命令](modules/Commandlet.md) [Commandlet](https://openhutb.github.io/carla_cpp/dir_b73fafeaa93af49306e77afd3c0d0eef.html)
* [游戏](modules/Game.md) [Game](https://openhutb.github.io/carla_cpp/dir_b708e75f0564cefaa95a07ef1c60fa1d.html)
* [灯光](modules/Lights.md) [Lights](https://openhutb.github.io/carla_cpp/dir_300f092198dff90fa236d1c5a9b26b0c.html)
* [地图生成](modules/MapGen.md) [MapGen](https://openhutb.github.io/carla_cpp/dir_3e9aec868781f29a05b56aecc37cd1a9.html)
* [数学](modules/Math.md) [Math](https://openhutb.github.io/carla_cpp/dir_f9cdfd101429e27d647f8df664b6ebd1.html)
* [路网](modules/OpenDrive.md) [OpenDrive](https://openhutb.github.io/carla_cpp/dir_d0b0d7f8e453984c2ffe9ea659d3c27f.html)
* [记录器](modules/Recorder.md) [Recorder](https://openhutb.github.io/carla_cpp/dir_0dd3f6464b0e5c5db135a4b73b996175.html)
* [传感器](modules/Sensor_UE.md) [Sensor](https://openhutb.github.io/carla_cpp/dir_32df69f29a08a23c97cd630e5cd47b2e.html)
* [服务端](modules/Server.md) [Server](https://openhutb.github.io/carla_cpp/dir_4f477b896248adf10c6909a9eb9fb7d3.html)
* [设置](modules/Settings.md) [Settings](https://openhutb.github.io/carla_cpp/dir_61a866aca8f5011fad0bfe0df06e6f79.html)
* [交通](modules/Traffic.md) [Traffic](https://openhutb.github.io/carla_cpp/dir_cf78ae8ffd0f6192e117b8a1751c2bbd.html)
* [触发器](modules/Trigger.md) [Trigger](https://openhutb.github.io/carla_cpp/dir_6c62abedd72e3007bc03a7fda3037637.html)
* [工具](modules/Util.md) [Util](https://openhutb.github.io/carla_cpp/dir_c0211e659583c36c301432102f960843.html)
* [植被](modules/Vegetation.md) [Vegetation](https://openhutb.github.io/carla_cpp/dir_a3491c9b10b5a3d0703facb105cd4941.html)
* [车辆](modules/Vehicle.md) [Vehicle](https://openhutb.github.io/carla_cpp/dir_4d620431c9b0dc62fca23e1ed91a49b6.html)
* [行人](modules/Walker.md) [Walker](https://openhutb.github.io/carla_cpp/dir_7a44753a182d2dd0cd15cfa7be7c0c89.html)
* [天气](modules/Weather.md) [Weather](https://openhutb.github.io/carla_cpp/dir_b3a8bd261fb98563f858806beb7e2741.html)

## 三、虚幻场景：[carla-content](https://bitbucket.org/carla-simulator/carla-content/src/master/)

### 3.1 [蓝图](modules/Blueprints.md)  [Blueprints](https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/)

* [游戏](modules/Game_BP.md) [Game](https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Game/)
* [关卡设计](modules/LevelDesign_BP.md) [LevelDesign](https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/)
* [灯光](modules/Lights_BP.md) [Lights](https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Lights/)
* [道具](modules/Props_BP.md) [Props](https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Props/)
* [测试](modules/Testing_BP.md) [Testing](https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Testing/)
* [交通信号灯](modules/TrafficLight_BP.md) [TrafficLight](https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/TrafficLight/)
* [通用场景描述(USD) 资产导入模板](modules/USDImportTemplates_BP.md) [USDImportTemplates](https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/USDImportTemplates/)
* [车辆](modules/Vehicles_BP.md) [Vehicles](https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Vehicles/)
* [行人](modules/Walkers_BP.md) [Walkers](https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Walkers/)

### 3.2 [静态资产](modules/Static.md) [Static](https://bitbucket.org/carla-simulator/carla-content/src/master/Static/)




## 附加
[绘图指南](demo/figure.md)

通用C++相关文档请参考 [链接](ref_cpp.md) 。


## 构建步骤分析

### 编译：Util/BuildTools/*

![](img/tuto_D_windows_debug/file_specification_build_tools.png)

* BuildUE4Plugins.bat : 构建虚幻引擎插件 StreetMap 
* Setup.bat：调用`Util/InstallersWin/*.bat`下载并生成 zlib、libpng、rpclib、Google Test、Recast & Detour、Fast-DDS (for ROS2)、Boost、Xercesc、Sqlite3、PROJ、Eigen、Chrono 库；设置资产下载URL；生成CMakeLists.txt.in；
* BuildLibCarla.bat：创建LibCarla的客户端和服务端；
* BuildOSM2ODR.bat：创建OSM转OpenDRIVE的库；

### Update.bat
1. 环境变量初始化；
2. 获取最新的资产包；
3. 下载并解压资产内容；

    如果不存在7zip就用`powershell -Command "Expand-Archive '`命令进行解压。

#### [Makefile](https://seisman.github.io/how-to-write-makefile/index.html)
1. `make PythonAPI`

    执行`Util/BuildTools/BuildPythonAPI.bat`，真正执行的是`python setup.py bdist_egg bdist_wheel`，在`PythonAPI/carla/dist`目录下生成`*.egg`和`*.whl`文件；

2. `make launch`

    执行`Makefile`，调用`Util/BuildTools/Windows.mk`，真正执行的是`BuildLibCarla.bat`，构建LibCarla的服务端和客户端；

### Build
* `Xerces`是由 Apache 组织所推动的一项 XML 文档解析开源项目。
* `SQLite`是一款轻型的数据库，是遵守 ACID 的关系型数据库管理系统，它包含在一个相对小的C库中。
* `PROJ`是一种通用坐标转换软件，它将坐标从一个坐标参考系（CRS）转换为另一个坐标参考系。这包括地图投影和大地坐标变换。

