<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>LevelDesign BP - 人车模拟器</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "LevelDesign BP";
        var mkdocs_page_input_path = "modules/LevelDesign_BP.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> 人车模拟器
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">首页</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">人车模拟器</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">LevelDesign BP</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/OpenHUTB/carla_doc/edit/master/docs/modules/LevelDesign_BP.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="_1"><a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/">关卡设计蓝图</a></h1>
<ul>
<li>建筑蓝图 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_Building.uasset">BP_Building</a></li>
<li>将建筑转化为代码 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_BuildingConverterToCode.uasset">BP_BuildingConverterToCode</a></li>
<li>护栏 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_GuardRail.uasset">BP_GuardRail</a></li>
<li>程序化生成建筑 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_Procedural_Bulding.uasset">BP_Procedural_Bulding</a></li>
<li>程序化窗口的零件 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_Procedural_WindowPieces.uasset">BP_Procedural_WindowPieces</a></li>
<li>道具 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_Prop.uasset">BP_Prop</a></li>
<li><a href="../../tuto_M_custom_weather_landscape/#bp_repspline">Rep样条</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_RepSpline.uasset">BP_RepSpline</a> </li>
<li><a href="../../tuto_M_custom_weather_landscape/#bp_spline">样条</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_Spline.uasset">BP_Spline</a> </li>
<li>河流 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_River.uasset">BP_River</a></li>
<li>地形 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_Terrain.uasset">BP_Terrain</a></li>
<li>植被 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_Vegetation.uasset">BP_Vegetation</a></li>
<li><a href="../../tuto_M_custom_weather_landscape/#bp_wall">墙</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BP_Wall.uasset">BP_Wall</a></li>
<li>通用建筑类 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/BuildingMaster.uasset">BuildingMaster</a> ：在建筑网格上分配和/或随机分配材料、堆叠地板、将道具放置在随机位置</li>
<li>贴花图集生成器 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/DecalAtlasGenerator.uasset">DecalAtlasGenerator</a></li>
<li>道路画家 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/RoadPainter.uasset">RoadPainter</a></li>
<li>道路画家预设 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/RoadPainterPreset.uasset">RoadPainterPreset</a></li>
<li>
<h1 id="carlaleveldesign">Carla虚幻场景中关卡设计（LevelDesign）技术说明</h1>
</li>
</ul>
<h2 id="1">1. 概述</h2>
<p>在Carla虚幻引擎模拟器环境中，<strong>关卡设计（LevelDesign）</strong>是创建和配置各类模拟场景的基础。它涉及场景的布局、元素布局、环境配置，以及各种静态和动态资产的搭配。良好的关卡设计可以提高模拟的真实感和多样性，为自动驾驶的训练、测试提供丰富的环境条件。</p>
<h2 id="2">2. 关卡设计的核心要素</h2>
<h3 id="21">2.1 场景布局</h3>
<ul>
<li><strong>地形地貌</strong>：包括道路、城市、郊区、乡村等不同类型的环境。设计依据通常采用OpenDRIVE标准定义道路网络。</li>
<li><strong>道路网络</strong>：由OpenDRIVE文件定义，标明车道、路口、交汇点、停车场等元素。</li>
<li><strong>建筑及静态资产</strong>：如住宅、商业建筑、桥梁、隧道、交通标志、信号灯等，作为场景的静态元素。</li>
<li><strong>静态资产（Static）</strong>：固定在场景中的元素，比如路灯、树木、交通标志、路面涂装等。</li>
</ul>
<h3 id="22">2.2 气候与环境条件</h3>
<ul>
<li><strong>天气参数</strong>：太阳位置、云量、风速、能见度、雾、雨雪等，影响场景的视觉效果和驾驶表现。</li>
<li><strong>时间设置</strong>：白天、夜晚或黄昏等时间段，可以调节光照和环境状态。</li>
</ul>
<h3 id="23">2.3 地标和关键点</h3>
<ul>
<li><strong>交通标志和信号灯</strong>：定义道路的交通规则和信号变化。</li>
<li><strong>关卡目标位置</strong>：设定起点、终点、检测点、休息区等关键位置。</li>
</ul>
<h3 id="24">2.4 其他环境元素</h3>
<ul>
<li><strong>植被</strong>：树木、灌木、草地等自然元素。</li>
<li><strong>道具和景观</strong>：休息区、建筑物、广告牌、障碍物等。</li>
</ul>
<hr />
<h2 id="3">3. 设计流程</h2>
<h3 id="31">3.1 使用场景素材和模板</h3>
<ul>
<li>选择或自定义道路地图（通过OpenDRIVE或现有地图）。</li>
<li>配置场景中的静态资产（建筑物、交管设施等）。</li>
<li>调整天气和光照条件以匹配所需场景氛围。</li>
</ul>
<h3 id="32-blueprints">3.2 利用蓝图（Blueprints）和资产</h3>
<ul>
<li>通过Blueprint库中的资产创建场景元素。</li>
<li>利用蓝图设置参与者（车辆、行人）及其行为。</li>
<li>设置交通灯、交通标志、边界线等静态资产。</li>
</ul>
<h3 id="33">3.3 调整环境参数</h3>
<ul>
<li>设定天气参数，调整空气密度、能见度等。</li>
<li>调节时间，影响光照和阴影。</li>
</ul>
<h3 id="34">3.4 场景细节优化</h3>
<ul>
<li>确保道路布局合理，交通规则和标志真实。</li>
<li>添加自然和景观元素，增强场景真实感。</li>
<li>调整环境照明，实现昼夜或特定时间效果。</li>
</ul>
<h3 id="35">3.5 测试与验证</h3>
<ul>
<li>使用Scenario Runner等工具模拟不同场景。</li>
<li>观察场景中的静态与动态元素交互是否符合预期。</li>
<li>调整布景以确保测试环境的多样性与真实性。</li>
</ul>
<h2 id="4-carlo">4. Carlo蓝图库与静态资产管理</h2>
<ul>
<li><strong>静态资产</strong>（Static assets），包括道路、建筑、环境装饰等，存储于蓝图库中。</li>
<li>通过<code>carla.BlueprintLibrary</code>可以访问和选择静态资产，实现场景快速搭建。</li>
<li>蓝图支持自定义修改属性，如道路宽度、建筑颜色、交通标志类型等。</li>
</ul>
<h2 id="5">5. 设计注意事项</h2>
<ul>
<li><strong>场景连贯性</strong>：避免突兀的地形变化或不合逻辑的环境布置。</li>
<li><strong>多样性和复杂性</strong>：结合不同的交通情况、天气条件，增加模拟的多样性。</li>
<li><strong>性能优化</strong>：合理分配静态与动态资产，避免不必要的复杂几何模型影响帧率。</li>
<li><strong>可扩展性</strong>：预留空间和接口，支持后续加入更多自定义场景元素。</li>
</ul>
<hr />
<h2 id="6">6. 结论</h2>
<p>Carla的关卡设计是构建逼真、灵活的自动驾驶模拟环境的基础。掌握场景布局、资产管理、环境设置的技巧，可以极大提升模拟的真实性与多样性，为自动驾驶研发提供强有力的支撑。</p>
<hr />
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/OpenHUTB/carla_doc" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script>
      <script src="../../js/umlconvert.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
