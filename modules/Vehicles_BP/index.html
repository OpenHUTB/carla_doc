<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>载具蓝图 - 人车模拟器</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u8f7d\u5177\u84dd\u56fe";
        var mkdocs_page_input_path = "modules/Vehicles_BP.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> 人车模拟器
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">首页</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">人车模拟器</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">载具蓝图</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/OpenHUTB/doc/edit/master/docs/modules/Vehicles_BP.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="_1">载具蓝图</h1>
<h2 id="bp_base2wheelednew">新两轮基座 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Vehicles/2Wheeled/BP_Base2wheeledNew.uasset">BP_Base2wheeledNew</a></h2>
<h2 id="basevehiclepawn">车辆棋子基座 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Vehicles/BaseVehiclePawn.uasset">BaseVehiclePawn</a></h2>
<p>其中<code>事件图表</code>中的<code>中断VehicleControl</code>模块接受<code>Vehicle/VehicleControl.h</code>中所定义的车辆控制变量：
<div class="highlight"><pre><span></span><code><span class="n">UPROPERTY</span><span class="p">(</span><span class="n">Category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Vehicle Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EditAnywhere</span><span class="p">,</span><span class="w"> </span><span class="n">BlueprintReadWrite</span><span class="p">)</span>
<span class="kt">float</span><span class="w"> </span><span class="n">Brake</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">;</span>
</code></pre></div></p>
<h2 id="n-basevehiclepawnnw"><a href="../../tuto_A_add_vehicle/#add-a-n-wheeled-vehicle">N轮车辆棋子基座</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Vehicles/BaseVehiclePawnNW.uasset">BaseVehiclePawnNW</a></h2>
<h2 id="vehiclefactory">车辆工厂 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Vehicles/VehicleFactory.uasset">VehicleFactory</a></h2>
<h2 id="2wheeled">两轮载具 <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Vehicles/2Wheeled/">2Wheeled</a></h2>
<h1 id="carlavehicle-blueprints">Carla虚幻场景中的载具蓝图（Vehicle Blueprints）技术说明</h1>
<h2 id="1">1. 概述</h2>
<p>在Carla的虚幻引擎场景中，车辆蓝图（Vehicle Blueprints）是定义和管理各种汽车模型及其属性的核心元素。它们不仅包含车辆的几何模型和动画信息，还包括车辆的物理特性、行为控制参数以及附属传感器等，是实现主动交互和自动驾驶仿真的基础。</p>
<h2 id="2">2. 车辆蓝图的结构与组成</h2>
<h3 id="21-blueprint-library">2.1 蓝图库（Blueprint Library）</h3>
<ul>
<li><strong>定义：</strong> 车辆蓝图存放在蓝图库中，通过<code>carla.BlueprintLibrary</code>类提供访问。</li>
<li><strong>内容：</strong> 包含一系列可用的车辆类型ID（如<code>vehicle.tesla.model3</code>、<code>vehicle.audi.tt</code>等），同时支持过滤和自定义属性设定。</li>
<li><strong>操作：</strong> 可以随机抽取、精准查找，也支持根据特定属性筛选。</li>
</ul>
<h3 id="22-actorblueprint">2.2 车辆蓝图（ActorBlueprint）</h3>
<ul>
<li><strong>定义：</strong> 代表具体车辆模型的蓝图对象，类似于虚幻引擎的Actor蓝图。</li>
<li><strong>属性：</strong></li>
<li><strong>ID:</strong> 标识模型类型，关联至具体的3D模型和动画资源。</li>
<li><strong>可修改属性：</strong> 包括颜色、轮子类型、动力参数、灯光状态等。</li>
<li><strong>自定义属性：</strong> 允许用户根据实验需求调节车辆性能和外观。</li>
</ul>
<h3 id="23-attributes">2.3 车辆属性（Attributes）</h3>
<ul>
<li><strong>可修改属性：</strong> 如<code>color</code>、<code>engine_power</code>、<code>vehicle_physics</code>等。</li>
<li><strong>限制：</strong> 一些属性可能由模型预设、不允许修改。</li>
<li><strong>推荐值：</strong> 属性通常配有建议范围或默认值，便于快速配置。</li>
</ul>
<h2 id="3">3. 车辆蓝图的操作流程</h2>
<h3 id="31">3.1 获取蓝图库</h3>
<div class="highlight"><pre><span></span><code><span class="n">blueprint_library</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">get_blueprint_library</span><span class="p">()</span>
</code></pre></div>
<h3 id="32">3.2 查询和筛选</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 查找特定车辆模型</span>
<span class="n">vehicle_bp</span> <span class="o">=</span> <span class="n">blueprint_library</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;vehicle.tesla.model3&#39;</span><span class="p">)</span>

<span class="c1"># 选择所有车辆蓝图并随机选择</span>
<span class="n">vehicle_blueprints</span> <span class="o">=</span> <span class="n">blueprint_library</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s1">&#39;vehicle.*&#39;</span><span class="p">)</span>
<span class="n">chosen_bp</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">vehicle_blueprints</span><span class="p">)</span>
</code></pre></div>
<h3 id="33">3.3 修改属性</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 设置车辆颜色为红色</span>
<span class="n">vehicle_bp</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;255,0,0&#39;</span><span class="p">)</span>

<span class="c1"># 调整发动机功率</span>
<span class="n">vehicle_bp</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="s1">&#39;engine_power&#39;</span><span class="p">,</span> <span class="s1">&#39;300&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="34">3.4 生成车辆实例</h3>
<div class="highlight"><pre><span></span><code><span class="n">transform</span> <span class="o">=</span> <span class="n">carla</span><span class="o">.</span><span class="n">Transform</span><span class="p">(</span><span class="n">carla</span><span class="o">.</span><span class="n">Location</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">230</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">195</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">40</span><span class="p">),</span> <span class="n">carla</span><span class="o">.</span><span class="n">Rotation</span><span class="p">(</span><span class="n">yaw</span><span class="o">=</span><span class="mi">180</span><span class="p">))</span>
<span class="n">vehicle_actor</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">spawn_actor</span><span class="p">(</span><span class="n">chosen_bp</span><span class="p">,</span> <span class="n">transform</span><span class="p">)</span>
</code></pre></div>
<h3 id="35">3.5 自定义功能</h3>
<ul>
<li>用户可以扩展车辆蓝图（如添加特殊传感器、动画或自定义参数）。</li>
<li>支持导入用户自制的车辆资产。</li>
</ul>
<h2 id="4">4. 车辆蓝图应用场景</h2>
<ul>
<li><strong>仿真测试：</strong> 基于不同车辆模型测试自动驾驶算法的适应性。</li>
<li><strong>感知训练：</strong> 添加多样化车辆，增强感知模型的鲁棒性。</li>
<li><strong>性能模拟：</strong> 调节动力参数和车况，模拟各种道路状态。</li>
<li><strong>虚拟场景生成：</strong> 根据任务需求快速生成多样的交通场景。</li>
</ul>
<h2 id="5">5. 设计和定制指南</h2>
<ul>
<li><strong>扩展蓝图库：</strong> 贡献自己的车辆模型，将新的模型资产加入蓝图库，支持合作开发。</li>
<li><strong>属性调优：</strong> 根据特定模拟目标，修改车辆属性以达到理想效果。</li>
<li><strong>动画和物理调优：</strong> 调整动画、碰撞模型等，以提高场景逼真度。</li>
<li><strong>车辆交互：</strong> 配合传感器和控制系统，实现自主驾驶交互。</li>
</ul>
<h2 id="6">6. 结论</h2>
<p>在Carla虚幻场景中，车辆蓝图作为动态对象的核心定义，不仅关系到场景的视觉效果，还直接影响仿真中的行为表现和实验结果。对蓝图的深入理解与合理配置，是实现高质量自动驾驶仿真的关键环节。</p>
<hr />
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/OpenHUTB/doc" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script>
      <script src="../../js/umlconvert.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
