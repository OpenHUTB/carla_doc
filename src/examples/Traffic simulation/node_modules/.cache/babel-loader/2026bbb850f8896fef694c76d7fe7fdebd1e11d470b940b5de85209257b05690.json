{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bar = bar;\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _updater = require(\"../class/updater.class\");\nvar _config = require(\"../config\");\nvar _util = require(\"@jiaminghi/c-render/lib/plugin/util\");\nvar _util2 = require(\"../util\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction bar(chart) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var xAxis = option.xAxis,\n    yAxis = option.yAxis,\n    series = option.series;\n  var bars = [];\n  if (xAxis && yAxis && series) {\n    bars = (0, _util2.initNeedSeries)(series, _config.barConfig, 'bar');\n    bars = setBarAxis(bars, chart);\n    bars = setBarPositionData(bars, chart);\n    bars = calcBarsPosition(bars, chart);\n  }\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: bars.slice(-1),\n    key: 'backgroundBar',\n    getGraphConfig: getBackgroundBarConfig\n  });\n  bars.reverse();\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: bars,\n    key: 'bar',\n    getGraphConfig: getBarConfig,\n    getStartGraphConfig: getStartBarConfig,\n    beforeUpdate: beforeUpdateBar\n  });\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: bars,\n    key: 'barLabel',\n    getGraphConfig: getLabelConfig\n  });\n}\nfunction setBarAxis(bars, chart) {\n  var axisData = chart.axisData;\n  bars.forEach(function (bar) {\n    var xAxisIndex = bar.xAxisIndex,\n      yAxisIndex = bar.yAxisIndex;\n    if (typeof xAxisIndex !== 'number') xAxisIndex = 0;\n    if (typeof yAxisIndex !== 'number') yAxisIndex = 0;\n    var xAxis = axisData.find(function (_ref) {\n      var axis = _ref.axis,\n        index = _ref.index;\n      return \"\".concat(axis).concat(index) === \"x\".concat(xAxisIndex);\n    });\n    var yAxis = axisData.find(function (_ref2) {\n      var axis = _ref2.axis,\n        index = _ref2.index;\n      return \"\".concat(axis).concat(index) === \"y\".concat(yAxisIndex);\n    });\n    var axis = [xAxis, yAxis];\n    var valueAxisIndex = axis.findIndex(function (_ref3) {\n      var data = _ref3.data;\n      return data === 'value';\n    });\n    bar.valueAxis = axis[valueAxisIndex];\n    bar.labelAxis = axis[1 - valueAxisIndex];\n  });\n  return bars;\n}\nfunction setBarPositionData(bars, chart) {\n  var labelBarGroup = groupBarByLabelAxis(bars);\n  labelBarGroup.forEach(function (group) {\n    setBarIndex(group);\n    setBarNum(group);\n    setBarCategoryWidth(group, chart);\n    setBarWidthAndGap(group);\n    setBarAllWidthAndGap(group);\n  });\n  return bars;\n}\nfunction setBarIndex(bars) {\n  var stacks = getBarStack(bars);\n  stacks = stacks.map(function (stack) {\n    return {\n      stack: stack,\n      index: -1\n    };\n  });\n  var currentIndex = 0;\n  bars.forEach(function (bar) {\n    var stack = bar.stack;\n    if (!stack) {\n      bar.barIndex = currentIndex;\n      currentIndex++;\n    } else {\n      var stackData = stacks.find(function (_ref4) {\n        var s = _ref4.stack;\n        return s === stack;\n      });\n      if (stackData.index === -1) {\n        stackData.index = currentIndex;\n        currentIndex++;\n      }\n      bar.barIndex = stackData.index;\n    }\n  });\n}\nfunction groupBarByLabelAxis(bars) {\n  var labelAxis = bars.map(function (_ref5) {\n    var _ref5$labelAxis = _ref5.labelAxis,\n      axis = _ref5$labelAxis.axis,\n      index = _ref5$labelAxis.index;\n    return axis + index;\n  });\n  labelAxis = (0, _toConsumableArray2[\"default\"])(new Set(labelAxis));\n  return labelAxis.map(function (axisIndex) {\n    return bars.filter(function (_ref6) {\n      var _ref6$labelAxis = _ref6.labelAxis,\n        axis = _ref6$labelAxis.axis,\n        index = _ref6$labelAxis.index;\n      return axis + index === axisIndex;\n    });\n  });\n}\nfunction getBarStack(bars) {\n  var stacks = [];\n  bars.forEach(function (_ref7) {\n    var stack = _ref7.stack;\n    if (stack) stacks.push(stack);\n  });\n  return (0, _toConsumableArray2[\"default\"])(new Set(stacks));\n}\nfunction setBarNum(bars) {\n  var barNum = (0, _toConsumableArray2[\"default\"])(new Set(bars.map(function (_ref8) {\n    var barIndex = _ref8.barIndex;\n    return barIndex;\n  }))).length;\n  bars.forEach(function (bar) {\n    return bar.barNum = barNum;\n  });\n}\nfunction setBarCategoryWidth(bars) {\n  var lastBar = bars.slice(-1)[0];\n  var barCategoryGap = lastBar.barCategoryGap,\n    tickGap = lastBar.labelAxis.tickGap;\n  var barCategoryWidth = 0;\n  if (typeof barCategoryGap === 'number') {\n    barCategoryWidth = barCategoryGap;\n  } else {\n    barCategoryWidth = (1 - parseInt(barCategoryGap) / 100) * tickGap;\n  }\n  bars.forEach(function (bar) {\n    return bar.barCategoryWidth = barCategoryWidth;\n  });\n}\nfunction setBarWidthAndGap(bars) {\n  var _bars$slice$ = bars.slice(-1)[0],\n    barCategoryWidth = _bars$slice$.barCategoryWidth,\n    barWidth = _bars$slice$.barWidth,\n    barGap = _bars$slice$.barGap,\n    barNum = _bars$slice$.barNum;\n  var widthAndGap = [];\n  if (typeof barWidth === 'number' || barWidth !== 'auto') {\n    widthAndGap = getBarWidthAndGapWithPercentOrNumber(barCategoryWidth, barWidth, barGap, barNum);\n  } else if (barWidth === 'auto') {\n    widthAndGap = getBarWidthAndGapWidthAuto(barCategoryWidth, barWidth, barGap, barNum);\n  }\n  var _widthAndGap = widthAndGap,\n    _widthAndGap2 = (0, _slicedToArray2[\"default\"])(_widthAndGap, 2),\n    width = _widthAndGap2[0],\n    gap = _widthAndGap2[1];\n  bars.forEach(function (bar) {\n    bar.barWidth = width;\n    bar.barGap = gap;\n  });\n}\nfunction getBarWidthAndGapWithPercentOrNumber(barCategoryWidth, barWidth, barGap) {\n  var width = 0,\n    gap = 0;\n  if (typeof barWidth === 'number') {\n    width = barWidth;\n  } else {\n    width = parseInt(barWidth) / 100 * barCategoryWidth;\n  }\n  if (typeof barGap === 'number') {\n    gap = barGap;\n  } else {\n    gap = parseInt(barGap) / 100 * width;\n  }\n  return [width, gap];\n}\nfunction getBarWidthAndGapWidthAuto(barCategoryWidth, barWidth, barGap, barNum) {\n  var width = 0,\n    gap = 0;\n  var barItemWidth = barCategoryWidth / barNum;\n  if (typeof barGap === 'number') {\n    gap = barGap;\n    width = barItemWidth - gap;\n  } else {\n    var percent = 10 + parseInt(barGap) / 10;\n    if (percent === 0) {\n      width = barItemWidth * 2;\n      gap = -width;\n    } else {\n      width = barItemWidth / percent * 10;\n      gap = barItemWidth - width;\n    }\n  }\n  return [width, gap];\n}\nfunction setBarAllWidthAndGap(bars) {\n  var _bars$slice$2 = bars.slice(-1)[0],\n    barGap = _bars$slice$2.barGap,\n    barWidth = _bars$slice$2.barWidth,\n    barNum = _bars$slice$2.barNum;\n  var barAllWidthAndGap = (barGap + barWidth) * barNum - barGap;\n  bars.forEach(function (bar) {\n    return bar.barAllWidthAndGap = barAllWidthAndGap;\n  });\n}\nfunction calcBarsPosition(bars, chart) {\n  bars = calcBarValueAxisCoordinate(bars);\n  bars = calcBarLabelAxisCoordinate(bars);\n  bars = eliminateNullBarLabelAxis(bars);\n  bars = keepSameNumBetweenBarAndData(bars);\n  return bars;\n}\nfunction calcBarLabelAxisCoordinate(bars) {\n  return bars.map(function (bar) {\n    var labelAxis = bar.labelAxis,\n      barAllWidthAndGap = bar.barAllWidthAndGap,\n      barGap = bar.barGap,\n      barWidth = bar.barWidth,\n      barIndex = bar.barIndex;\n    var tickGap = labelAxis.tickGap,\n      tickPosition = labelAxis.tickPosition,\n      axis = labelAxis.axis;\n    var coordinateIndex = axis === 'x' ? 0 : 1;\n    var barLabelAxisPos = tickPosition.map(function (tick, i) {\n      var barCategoryStartPos = tickPosition[i][coordinateIndex] - tickGap / 2;\n      var barItemsStartPos = barCategoryStartPos + (tickGap - barAllWidthAndGap) / 2;\n      return barItemsStartPos + (barIndex + 0.5) * barWidth + barIndex * barGap;\n    });\n    return _objectSpread(_objectSpread({}, bar), {}, {\n      barLabelAxisPos: barLabelAxisPos\n    });\n  });\n}\nfunction calcBarValueAxisCoordinate(bars) {\n  return bars.map(function (bar) {\n    var data = (0, _util2.mergeSameStackData)(bar, bars);\n    data = eliminateNonNumberData(bar, data);\n    var _bar$valueAxis = bar.valueAxis,\n      axis = _bar$valueAxis.axis,\n      minValue = _bar$valueAxis.minValue,\n      maxValue = _bar$valueAxis.maxValue,\n      linePosition = _bar$valueAxis.linePosition;\n    var startPos = getValuePos(minValue, maxValue, minValue < 0 ? 0 : minValue, linePosition, axis);\n    var endPos = data.map(function (v) {\n      return getValuePos(minValue, maxValue, v, linePosition, axis);\n    });\n    var barValueAxisPos = endPos.map(function (p) {\n      return [startPos, p];\n    });\n    return _objectSpread(_objectSpread({}, bar), {}, {\n      barValueAxisPos: barValueAxisPos\n    });\n  });\n}\nfunction eliminateNonNumberData(barItem, barData) {\n  var data = barItem.data;\n  return barData.map(function (v, i) {\n    return typeof data[i] === 'number' ? v : null;\n  }).filter(function (d) {\n    return d !== null;\n  });\n}\nfunction eliminateNullBarLabelAxis(bars) {\n  return bars.map(function (bar) {\n    var barLabelAxisPos = bar.barLabelAxisPos,\n      data = bar.data;\n    data.forEach(function (d, i) {\n      if (typeof d === 'number') return;\n      barLabelAxisPos[i] = null;\n    });\n    return _objectSpread(_objectSpread({}, bar), {}, {\n      barLabelAxisPos: barLabelAxisPos.filter(function (p) {\n        return p !== null;\n      })\n    });\n  });\n}\nfunction keepSameNumBetweenBarAndData(bars) {\n  bars.forEach(function (bar) {\n    var data = bar.data,\n      barLabelAxisPos = bar.barLabelAxisPos,\n      barValueAxisPos = bar.barValueAxisPos;\n    var dataNum = data.filter(function (d) {\n      return typeof d === 'number';\n    }).length;\n    var axisPosNum = barLabelAxisPos.length;\n    if (axisPosNum > dataNum) {\n      barLabelAxisPos.splice(dataNum);\n      barValueAxisPos.splice(dataNum);\n    }\n  });\n  return bars;\n}\nfunction getValuePos(min, max, value, linePosition, axis) {\n  if (typeof value !== 'number') return null;\n  var valueMinus = max - min;\n  var coordinateIndex = axis === 'x' ? 0 : 1;\n  var posMinus = linePosition[1][coordinateIndex] - linePosition[0][coordinateIndex];\n  var percent = (value - min) / valueMinus;\n  if (valueMinus === 0) percent = 0;\n  var pos = percent * posMinus;\n  return pos + linePosition[0][coordinateIndex];\n}\nfunction getBackgroundBarConfig(barItem) {\n  var animationCurve = barItem.animationCurve,\n    animationFrame = barItem.animationFrame,\n    rLevel = barItem.rLevel;\n  var shapes = getBackgroundBarShapes(barItem);\n  var style = getBackgroundBarStyle(barItem);\n  return shapes.map(function (shape) {\n    return {\n      name: 'rect',\n      index: rLevel,\n      visible: barItem.backgroundBar.show,\n      animationCurve: animationCurve,\n      animationFrame: animationFrame,\n      shape: shape,\n      style: style\n    };\n  });\n}\nfunction getBackgroundBarShapes(barItem) {\n  var labelAxis = barItem.labelAxis,\n    valueAxis = barItem.valueAxis;\n  var tickPosition = labelAxis.tickPosition;\n  var axis = valueAxis.axis,\n    linePosition = valueAxis.linePosition;\n  var width = getBackgroundBarWidth(barItem);\n  var haltWidth = width / 2;\n  var posIndex = axis === 'x' ? 0 : 1;\n  var centerPos = tickPosition.map(function (p) {\n    return p[1 - posIndex];\n  });\n  var _ref9 = [linePosition[0][posIndex], linePosition[1][posIndex]],\n    start = _ref9[0],\n    end = _ref9[1];\n  return centerPos.map(function (center) {\n    if (axis === 'x') {\n      return {\n        x: start,\n        y: center - haltWidth,\n        w: end - start,\n        h: width\n      };\n    } else {\n      return {\n        x: center - haltWidth,\n        y: end,\n        w: width,\n        h: start - end\n      };\n    }\n  });\n}\nfunction getBackgroundBarWidth(barItem) {\n  var barAllWidthAndGap = barItem.barAllWidthAndGap,\n    barCategoryWidth = barItem.barCategoryWidth,\n    backgroundBar = barItem.backgroundBar;\n  var width = backgroundBar.width;\n  if (typeof width === 'number') return width;\n  if (width === 'auto') return barAllWidthAndGap;\n  return parseInt(width) / 100 * barCategoryWidth;\n}\nfunction getBackgroundBarStyle(barItem) {\n  return barItem.backgroundBar.style;\n}\nfunction getBarConfig(barItem) {\n  var barLabelAxisPos = barItem.barLabelAxisPos,\n    animationCurve = barItem.animationCurve,\n    animationFrame = barItem.animationFrame,\n    rLevel = barItem.rLevel;\n  var name = getBarName(barItem);\n  return barLabelAxisPos.map(function (foo, i) {\n    return {\n      name: name,\n      index: rLevel,\n      animationCurve: animationCurve,\n      animationFrame: animationFrame,\n      shape: getBarShape(barItem, i),\n      style: getBarStyle(barItem, i)\n    };\n  });\n}\nfunction getBarName(barItem) {\n  var shapeType = barItem.shapeType;\n  if (shapeType === 'leftEchelon' || shapeType === 'rightEchelon') return 'polyline';\n  return 'rect';\n}\nfunction getBarShape(barItem, i) {\n  var shapeType = barItem.shapeType;\n  if (shapeType === 'leftEchelon') {\n    return getLeftEchelonShape(barItem, i);\n  } else if (shapeType === 'rightEchelon') {\n    return getRightEchelonShape(barItem, i);\n  } else {\n    return getNormalBarShape(barItem, i);\n  }\n}\nfunction getLeftEchelonShape(barItem, i) {\n  var barValueAxisPos = barItem.barValueAxisPos,\n    barLabelAxisPos = barItem.barLabelAxisPos,\n    barWidth = barItem.barWidth,\n    echelonOffset = barItem.echelonOffset;\n  var _barValueAxisPos$i = (0, _slicedToArray2[\"default\"])(barValueAxisPos[i], 2),\n    start = _barValueAxisPos$i[0],\n    end = _barValueAxisPos$i[1];\n  var labelAxisPos = barLabelAxisPos[i];\n  var halfWidth = barWidth / 2;\n  var valueAxis = barItem.valueAxis.axis;\n  var points = [];\n  if (valueAxis === 'x') {\n    points[0] = [end, labelAxisPos - halfWidth];\n    points[1] = [end, labelAxisPos + halfWidth];\n    points[2] = [start, labelAxisPos + halfWidth];\n    points[3] = [start + echelonOffset, labelAxisPos - halfWidth];\n    if (end - start < echelonOffset) points.splice(3, 1);\n  } else {\n    points[0] = [labelAxisPos - halfWidth, end];\n    points[1] = [labelAxisPos + halfWidth, end];\n    points[2] = [labelAxisPos + halfWidth, start];\n    points[3] = [labelAxisPos - halfWidth, start - echelonOffset];\n    if (start - end < echelonOffset) points.splice(3, 1);\n  }\n  return {\n    points: points,\n    close: true\n  };\n}\nfunction getRightEchelonShape(barItem, i) {\n  var barValueAxisPos = barItem.barValueAxisPos,\n    barLabelAxisPos = barItem.barLabelAxisPos,\n    barWidth = barItem.barWidth,\n    echelonOffset = barItem.echelonOffset;\n  var _barValueAxisPos$i2 = (0, _slicedToArray2[\"default\"])(barValueAxisPos[i], 2),\n    start = _barValueAxisPos$i2[0],\n    end = _barValueAxisPos$i2[1];\n  var labelAxisPos = barLabelAxisPos[i];\n  var halfWidth = barWidth / 2;\n  var valueAxis = barItem.valueAxis.axis;\n  var points = [];\n  if (valueAxis === 'x') {\n    points[0] = [end, labelAxisPos + halfWidth];\n    points[1] = [end, labelAxisPos - halfWidth];\n    points[2] = [start, labelAxisPos - halfWidth];\n    points[3] = [start + echelonOffset, labelAxisPos + halfWidth];\n    if (end - start < echelonOffset) points.splice(2, 1);\n  } else {\n    points[0] = [labelAxisPos + halfWidth, end];\n    points[1] = [labelAxisPos - halfWidth, end];\n    points[2] = [labelAxisPos - halfWidth, start];\n    points[3] = [labelAxisPos + halfWidth, start - echelonOffset];\n    if (start - end < echelonOffset) points.splice(2, 1);\n  }\n  return {\n    points: points,\n    close: true\n  };\n}\nfunction getNormalBarShape(barItem, i) {\n  var barValueAxisPos = barItem.barValueAxisPos,\n    barLabelAxisPos = barItem.barLabelAxisPos,\n    barWidth = barItem.barWidth;\n  var _barValueAxisPos$i3 = (0, _slicedToArray2[\"default\"])(barValueAxisPos[i], 2),\n    start = _barValueAxisPos$i3[0],\n    end = _barValueAxisPos$i3[1];\n  var labelAxisPos = barLabelAxisPos[i];\n  var valueAxis = barItem.valueAxis.axis;\n  var shape = {};\n  if (valueAxis === 'x') {\n    shape.x = start;\n    shape.y = labelAxisPos - barWidth / 2;\n    shape.w = end - start;\n    shape.h = barWidth;\n  } else {\n    shape.x = labelAxisPos - barWidth / 2;\n    shape.y = end;\n    shape.w = barWidth;\n    shape.h = start - end;\n  }\n  return shape;\n}\nfunction getBarStyle(barItem, i) {\n  var barStyle = barItem.barStyle,\n    gradient = barItem.gradient,\n    color = barItem.color,\n    independentColor = barItem.independentColor,\n    independentColors = barItem.independentColors;\n  var fillColor = [barStyle.fill || color];\n  var gradientColor = (0, _util2.deepMerge)(fillColor, gradient.color);\n  if (independentColor) {\n    var idtColor = independentColors[i % independentColors.length];\n    gradientColor = idtColor instanceof Array ? idtColor : [idtColor];\n  }\n  if (gradientColor.length === 1) gradientColor.push(gradientColor[0]);\n  var gradientParams = getGradientParams(barItem, i);\n  return (0, _util2.deepMerge)({\n    gradientColor: gradientColor,\n    gradientParams: gradientParams,\n    gradientType: 'linear',\n    gradientWith: 'fill'\n  }, barStyle);\n}\nfunction getGradientParams(barItem, i) {\n  var barValueAxisPos = barItem.barValueAxisPos,\n    barLabelAxisPos = barItem.barLabelAxisPos,\n    data = barItem.data;\n  var _barItem$valueAxis = barItem.valueAxis,\n    linePosition = _barItem$valueAxis.linePosition,\n    axis = _barItem$valueAxis.axis;\n  var _barValueAxisPos$i4 = (0, _slicedToArray2[\"default\"])(barValueAxisPos[i], 2),\n    start = _barValueAxisPos$i4[0],\n    end = _barValueAxisPos$i4[1];\n  var labelAxisPos = barLabelAxisPos[i];\n  var value = data[i];\n  var _linePosition = (0, _slicedToArray2[\"default\"])(linePosition, 2),\n    lineStart = _linePosition[0],\n    lineEnd = _linePosition[1];\n  var valueAxisIndex = axis === 'x' ? 0 : 1;\n  var endPos = end;\n  if (!barItem.gradient.local) {\n    endPos = value < 0 ? lineStart[valueAxisIndex] : lineEnd[valueAxisIndex];\n  }\n  if (axis === 'y') {\n    return [labelAxisPos, endPos, labelAxisPos, start];\n  } else {\n    return [endPos, labelAxisPos, start, labelAxisPos];\n  }\n}\nfunction getStartBarConfig(barItem) {\n  var configs = getBarConfig(barItem);\n  var shapeType = barItem.shapeType;\n  configs.forEach(function (config) {\n    var shape = config.shape;\n    if (shapeType === 'leftEchelon') {\n      shape = getStartLeftEchelonShape(shape, barItem);\n    } else if (shapeType === 'rightEchelon') {\n      shape = getStartRightEchelonShape(shape, barItem);\n    } else {\n      shape = getStartNormalBarShape(shape, barItem);\n    }\n    config.shape = shape;\n  });\n  return configs;\n}\nfunction getStartLeftEchelonShape(shape, barItem) {\n  var axis = barItem.valueAxis.axis;\n  shape = (0, _util.deepClone)(shape);\n  var _shape = shape,\n    points = _shape.points;\n  var index = axis === 'x' ? 0 : 1;\n  var start = points[2][index];\n  points.forEach(function (point) {\n    return point[index] = start;\n  });\n  return shape;\n}\nfunction getStartRightEchelonShape(shape, barItem) {\n  var axis = barItem.valueAxis.axis;\n  shape = (0, _util.deepClone)(shape);\n  var _shape2 = shape,\n    points = _shape2.points;\n  var index = axis === 'x' ? 0 : 1;\n  var start = points[2][index];\n  points.forEach(function (point) {\n    return point[index] = start;\n  });\n  return shape;\n}\nfunction getStartNormalBarShape(shape, barItem) {\n  var axis = barItem.valueAxis.axis;\n  var x = shape.x,\n    y = shape.y,\n    w = shape.w,\n    h = shape.h;\n  if (axis === 'x') {\n    w = 0;\n  } else {\n    y = y + h;\n    h = 0;\n  }\n  return {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  };\n}\nfunction beforeUpdateBar(graphs, barItem, i, updater) {\n  var render = updater.chart.render;\n  var name = getBarName(barItem);\n  if (graphs[i] && graphs[i][0].name !== name) {\n    graphs[i].forEach(function (g) {\n      return render.delGraph(g);\n    });\n    graphs[i] = null;\n  }\n}\nfunction getLabelConfig(barItem) {\n  var animationCurve = barItem.animationCurve,\n    animationFrame = barItem.animationFrame,\n    rLevel = barItem.rLevel;\n  var shapes = getLabelShapes(barItem);\n  var style = getLabelStyle(barItem);\n  return shapes.map(function (shape) {\n    return {\n      name: 'text',\n      index: rLevel,\n      visible: barItem.label.show,\n      animationCurve: animationCurve,\n      animationFrame: animationFrame,\n      shape: shape,\n      style: style\n    };\n  });\n}\nfunction getLabelShapes(barItem) {\n  var contents = getFormatterLabels(barItem);\n  var position = getLabelsPosition(barItem);\n  return position.map(function (pos, i) {\n    return {\n      position: pos,\n      content: contents[i]\n    };\n  });\n}\nfunction getFormatterLabels(barItem) {\n  var data = barItem.data,\n    label = barItem.label;\n  var formatter = label.formatter;\n  data = data.filter(function (d) {\n    return typeof d === 'number';\n  }).map(function (d) {\n    return d.toString();\n  });\n  if (!formatter) return data;\n  var type = (0, _typeof2[\"default\"])(formatter);\n  if (type === 'string') return data.map(function (d) {\n    return formatter.replace('{value}', d);\n  });\n  if (type === 'function') return data.map(function (d, i) {\n    return formatter({\n      value: d,\n      index: i\n    });\n  });\n  return data;\n}\nfunction getLabelsPosition(barItem) {\n  var label = barItem.label,\n    barValueAxisPos = barItem.barValueAxisPos,\n    barLabelAxisPos = barItem.barLabelAxisPos;\n  var position = label.position,\n    offset = label.offset;\n  var axis = barItem.valueAxis.axis;\n  return barValueAxisPos.map(function (_ref10, i) {\n    var _ref11 = (0, _slicedToArray2[\"default\"])(_ref10, 2),\n      start = _ref11[0],\n      end = _ref11[1];\n    var labelAxisPos = barLabelAxisPos[i];\n    var pos = [end, labelAxisPos];\n    if (position === 'bottom') {\n      pos = [start, labelAxisPos];\n    }\n    if (position === 'center') {\n      pos = [(start + end) / 2, labelAxisPos];\n    }\n    if (axis === 'y') pos.reverse();\n    return getOffsetedPoint(pos, offset);\n  });\n}\nfunction getOffsetedPoint(_ref12, _ref13) {\n  var _ref14 = (0, _slicedToArray2[\"default\"])(_ref12, 2),\n    x = _ref14[0],\n    y = _ref14[1];\n  var _ref15 = (0, _slicedToArray2[\"default\"])(_ref13, 2),\n    ox = _ref15[0],\n    oy = _ref15[1];\n  return [x + ox, y + oy];\n}\nfunction getLabelStyle(barItem) {\n  var color = barItem.color,\n    style = barItem.label.style,\n    gc = barItem.gradient.color;\n  if (gc.length) color = gc[0];\n  style = (0, _util2.deepMerge)({\n    fill: color\n  }, style);\n  return style;\n}","map":{"version":3,"names":["require","_interopRequireDefault","Object","defineProperty","exports","value","bar","_typeof2","_defineProperty2","_slicedToArray2","_toConsumableArray2","_updater","_config","_util","_util2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","chart","option","undefined","xAxis","yAxis","series","bars","initNeedSeries","barConfig","setBarAxis","setBarPositionData","calcBarsPosition","doUpdate","slice","getGraphConfig","getBackgroundBarConfig","reverse","getBarConfig","getStartGraphConfig","getStartBarConfig","beforeUpdate","beforeUpdateBar","getLabelConfig","axisData","xAxisIndex","yAxisIndex","find","_ref","axis","index","concat","_ref2","valueAxisIndex","findIndex","_ref3","data","valueAxis","labelAxis","labelBarGroup","groupBarByLabelAxis","group","setBarIndex","setBarNum","setBarCategoryWidth","setBarWidthAndGap","setBarAllWidthAndGap","stacks","getBarStack","map","stack","currentIndex","barIndex","stackData","_ref4","s","_ref5","_ref5$labelAxis","Set","axisIndex","_ref6","_ref6$labelAxis","_ref7","barNum","_ref8","lastBar","barCategoryGap","tickGap","barCategoryWidth","parseInt","_bars$slice$","barWidth","barGap","widthAndGap","getBarWidthAndGapWithPercentOrNumber","getBarWidthAndGapWidthAuto","_widthAndGap","_widthAndGap2","width","gap","barItemWidth","percent","_bars$slice$2","barAllWidthAndGap","calcBarValueAxisCoordinate","calcBarLabelAxisCoordinate","eliminateNullBarLabelAxis","keepSameNumBetweenBarAndData","tickPosition","coordinateIndex","barLabelAxisPos","tick","barCategoryStartPos","barItemsStartPos","mergeSameStackData","eliminateNonNumberData","_bar$valueAxis","minValue","maxValue","linePosition","startPos","getValuePos","endPos","v","barValueAxisPos","p","barItem","barData","d","dataNum","axisPosNum","splice","min","max","valueMinus","posMinus","pos","animationCurve","animationFrame","rLevel","shapes","getBackgroundBarShapes","style","getBackgroundBarStyle","shape","name","visible","backgroundBar","show","getBackgroundBarWidth","haltWidth","posIndex","centerPos","_ref9","start","end","center","x","y","w","h","getBarName","foo","getBarShape","getBarStyle","shapeType","getLeftEchelonShape","getRightEchelonShape","getNormalBarShape","echelonOffset","_barValueAxisPos$i","labelAxisPos","halfWidth","points","close","_barValueAxisPos$i2","_barValueAxisPos$i3","barStyle","gradient","color","independentColor","independentColors","fillColor","fill","gradientColor","deepMerge","idtColor","Array","gradientParams","getGradientParams","gradientType","gradientWith","_barItem$valueAxis","_barValueAxisPos$i4","_linePosition","lineStart","lineEnd","local","configs","config","getStartLeftEchelonShape","getStartRightEchelonShape","getStartNormalBarShape","deepClone","_shape","point","_shape2","graphs","updater","render","g","delGraph","getLabelShapes","getLabelStyle","label","contents","getFormatterLabels","position","getLabelsPosition","content","formatter","toString","type","replace","offset","_ref10","_ref11","getOffsetedPoint","_ref12","_ref13","_ref14","_ref15","ox","oy","gc"],"sources":["D:/doc/workplace/vscode/vue03/node_modules/@jiaminghi/charts/lib/core/bar.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bar = bar;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _updater = require(\"../class/updater.class\");\n\nvar _config = require(\"../config\");\n\nvar _util = require(\"@jiaminghi/c-render/lib/plugin/util\");\n\nvar _util2 = require(\"../util\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction bar(chart) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var xAxis = option.xAxis,\n      yAxis = option.yAxis,\n      series = option.series;\n  var bars = [];\n\n  if (xAxis && yAxis && series) {\n    bars = (0, _util2.initNeedSeries)(series, _config.barConfig, 'bar');\n    bars = setBarAxis(bars, chart);\n    bars = setBarPositionData(bars, chart);\n    bars = calcBarsPosition(bars, chart);\n  }\n\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: bars.slice(-1),\n    key: 'backgroundBar',\n    getGraphConfig: getBackgroundBarConfig\n  });\n  bars.reverse();\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: bars,\n    key: 'bar',\n    getGraphConfig: getBarConfig,\n    getStartGraphConfig: getStartBarConfig,\n    beforeUpdate: beforeUpdateBar\n  });\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: bars,\n    key: 'barLabel',\n    getGraphConfig: getLabelConfig\n  });\n}\n\nfunction setBarAxis(bars, chart) {\n  var axisData = chart.axisData;\n  bars.forEach(function (bar) {\n    var xAxisIndex = bar.xAxisIndex,\n        yAxisIndex = bar.yAxisIndex;\n    if (typeof xAxisIndex !== 'number') xAxisIndex = 0;\n    if (typeof yAxisIndex !== 'number') yAxisIndex = 0;\n    var xAxis = axisData.find(function (_ref) {\n      var axis = _ref.axis,\n          index = _ref.index;\n      return \"\".concat(axis).concat(index) === \"x\".concat(xAxisIndex);\n    });\n    var yAxis = axisData.find(function (_ref2) {\n      var axis = _ref2.axis,\n          index = _ref2.index;\n      return \"\".concat(axis).concat(index) === \"y\".concat(yAxisIndex);\n    });\n    var axis = [xAxis, yAxis];\n    var valueAxisIndex = axis.findIndex(function (_ref3) {\n      var data = _ref3.data;\n      return data === 'value';\n    });\n    bar.valueAxis = axis[valueAxisIndex];\n    bar.labelAxis = axis[1 - valueAxisIndex];\n  });\n  return bars;\n}\n\nfunction setBarPositionData(bars, chart) {\n  var labelBarGroup = groupBarByLabelAxis(bars);\n  labelBarGroup.forEach(function (group) {\n    setBarIndex(group);\n    setBarNum(group);\n    setBarCategoryWidth(group, chart);\n    setBarWidthAndGap(group);\n    setBarAllWidthAndGap(group);\n  });\n  return bars;\n}\n\nfunction setBarIndex(bars) {\n  var stacks = getBarStack(bars);\n  stacks = stacks.map(function (stack) {\n    return {\n      stack: stack,\n      index: -1\n    };\n  });\n  var currentIndex = 0;\n  bars.forEach(function (bar) {\n    var stack = bar.stack;\n\n    if (!stack) {\n      bar.barIndex = currentIndex;\n      currentIndex++;\n    } else {\n      var stackData = stacks.find(function (_ref4) {\n        var s = _ref4.stack;\n        return s === stack;\n      });\n\n      if (stackData.index === -1) {\n        stackData.index = currentIndex;\n        currentIndex++;\n      }\n\n      bar.barIndex = stackData.index;\n    }\n  });\n}\n\nfunction groupBarByLabelAxis(bars) {\n  var labelAxis = bars.map(function (_ref5) {\n    var _ref5$labelAxis = _ref5.labelAxis,\n        axis = _ref5$labelAxis.axis,\n        index = _ref5$labelAxis.index;\n    return axis + index;\n  });\n  labelAxis = (0, _toConsumableArray2[\"default\"])(new Set(labelAxis));\n  return labelAxis.map(function (axisIndex) {\n    return bars.filter(function (_ref6) {\n      var _ref6$labelAxis = _ref6.labelAxis,\n          axis = _ref6$labelAxis.axis,\n          index = _ref6$labelAxis.index;\n      return axis + index === axisIndex;\n    });\n  });\n}\n\nfunction getBarStack(bars) {\n  var stacks = [];\n  bars.forEach(function (_ref7) {\n    var stack = _ref7.stack;\n    if (stack) stacks.push(stack);\n  });\n  return (0, _toConsumableArray2[\"default\"])(new Set(stacks));\n}\n\nfunction setBarNum(bars) {\n  var barNum = (0, _toConsumableArray2[\"default\"])(new Set(bars.map(function (_ref8) {\n    var barIndex = _ref8.barIndex;\n    return barIndex;\n  }))).length;\n  bars.forEach(function (bar) {\n    return bar.barNum = barNum;\n  });\n}\n\nfunction setBarCategoryWidth(bars) {\n  var lastBar = bars.slice(-1)[0];\n  var barCategoryGap = lastBar.barCategoryGap,\n      tickGap = lastBar.labelAxis.tickGap;\n  var barCategoryWidth = 0;\n\n  if (typeof barCategoryGap === 'number') {\n    barCategoryWidth = barCategoryGap;\n  } else {\n    barCategoryWidth = (1 - parseInt(barCategoryGap) / 100) * tickGap;\n  }\n\n  bars.forEach(function (bar) {\n    return bar.barCategoryWidth = barCategoryWidth;\n  });\n}\n\nfunction setBarWidthAndGap(bars) {\n  var _bars$slice$ = bars.slice(-1)[0],\n      barCategoryWidth = _bars$slice$.barCategoryWidth,\n      barWidth = _bars$slice$.barWidth,\n      barGap = _bars$slice$.barGap,\n      barNum = _bars$slice$.barNum;\n  var widthAndGap = [];\n\n  if (typeof barWidth === 'number' || barWidth !== 'auto') {\n    widthAndGap = getBarWidthAndGapWithPercentOrNumber(barCategoryWidth, barWidth, barGap, barNum);\n  } else if (barWidth === 'auto') {\n    widthAndGap = getBarWidthAndGapWidthAuto(barCategoryWidth, barWidth, barGap, barNum);\n  }\n\n  var _widthAndGap = widthAndGap,\n      _widthAndGap2 = (0, _slicedToArray2[\"default\"])(_widthAndGap, 2),\n      width = _widthAndGap2[0],\n      gap = _widthAndGap2[1];\n\n  bars.forEach(function (bar) {\n    bar.barWidth = width;\n    bar.barGap = gap;\n  });\n}\n\nfunction getBarWidthAndGapWithPercentOrNumber(barCategoryWidth, barWidth, barGap) {\n  var width = 0,\n      gap = 0;\n\n  if (typeof barWidth === 'number') {\n    width = barWidth;\n  } else {\n    width = parseInt(barWidth) / 100 * barCategoryWidth;\n  }\n\n  if (typeof barGap === 'number') {\n    gap = barGap;\n  } else {\n    gap = parseInt(barGap) / 100 * width;\n  }\n\n  return [width, gap];\n}\n\nfunction getBarWidthAndGapWidthAuto(barCategoryWidth, barWidth, barGap, barNum) {\n  var width = 0,\n      gap = 0;\n  var barItemWidth = barCategoryWidth / barNum;\n\n  if (typeof barGap === 'number') {\n    gap = barGap;\n    width = barItemWidth - gap;\n  } else {\n    var percent = 10 + parseInt(barGap) / 10;\n\n    if (percent === 0) {\n      width = barItemWidth * 2;\n      gap = -width;\n    } else {\n      width = barItemWidth / percent * 10;\n      gap = barItemWidth - width;\n    }\n  }\n\n  return [width, gap];\n}\n\nfunction setBarAllWidthAndGap(bars) {\n  var _bars$slice$2 = bars.slice(-1)[0],\n      barGap = _bars$slice$2.barGap,\n      barWidth = _bars$slice$2.barWidth,\n      barNum = _bars$slice$2.barNum;\n  var barAllWidthAndGap = (barGap + barWidth) * barNum - barGap;\n  bars.forEach(function (bar) {\n    return bar.barAllWidthAndGap = barAllWidthAndGap;\n  });\n}\n\nfunction calcBarsPosition(bars, chart) {\n  bars = calcBarValueAxisCoordinate(bars);\n  bars = calcBarLabelAxisCoordinate(bars);\n  bars = eliminateNullBarLabelAxis(bars);\n  bars = keepSameNumBetweenBarAndData(bars);\n  return bars;\n}\n\nfunction calcBarLabelAxisCoordinate(bars) {\n  return bars.map(function (bar) {\n    var labelAxis = bar.labelAxis,\n        barAllWidthAndGap = bar.barAllWidthAndGap,\n        barGap = bar.barGap,\n        barWidth = bar.barWidth,\n        barIndex = bar.barIndex;\n    var tickGap = labelAxis.tickGap,\n        tickPosition = labelAxis.tickPosition,\n        axis = labelAxis.axis;\n    var coordinateIndex = axis === 'x' ? 0 : 1;\n    var barLabelAxisPos = tickPosition.map(function (tick, i) {\n      var barCategoryStartPos = tickPosition[i][coordinateIndex] - tickGap / 2;\n      var barItemsStartPos = barCategoryStartPos + (tickGap - barAllWidthAndGap) / 2;\n      return barItemsStartPos + (barIndex + 0.5) * barWidth + barIndex * barGap;\n    });\n    return _objectSpread(_objectSpread({}, bar), {}, {\n      barLabelAxisPos: barLabelAxisPos\n    });\n  });\n}\n\nfunction calcBarValueAxisCoordinate(bars) {\n  return bars.map(function (bar) {\n    var data = (0, _util2.mergeSameStackData)(bar, bars);\n    data = eliminateNonNumberData(bar, data);\n    var _bar$valueAxis = bar.valueAxis,\n        axis = _bar$valueAxis.axis,\n        minValue = _bar$valueAxis.minValue,\n        maxValue = _bar$valueAxis.maxValue,\n        linePosition = _bar$valueAxis.linePosition;\n    var startPos = getValuePos(minValue, maxValue, minValue < 0 ? 0 : minValue, linePosition, axis);\n    var endPos = data.map(function (v) {\n      return getValuePos(minValue, maxValue, v, linePosition, axis);\n    });\n    var barValueAxisPos = endPos.map(function (p) {\n      return [startPos, p];\n    });\n    return _objectSpread(_objectSpread({}, bar), {}, {\n      barValueAxisPos: barValueAxisPos\n    });\n  });\n}\n\nfunction eliminateNonNumberData(barItem, barData) {\n  var data = barItem.data;\n  return barData.map(function (v, i) {\n    return typeof data[i] === 'number' ? v : null;\n  }).filter(function (d) {\n    return d !== null;\n  });\n}\n\nfunction eliminateNullBarLabelAxis(bars) {\n  return bars.map(function (bar) {\n    var barLabelAxisPos = bar.barLabelAxisPos,\n        data = bar.data;\n    data.forEach(function (d, i) {\n      if (typeof d === 'number') return;\n      barLabelAxisPos[i] = null;\n    });\n    return _objectSpread(_objectSpread({}, bar), {}, {\n      barLabelAxisPos: barLabelAxisPos.filter(function (p) {\n        return p !== null;\n      })\n    });\n  });\n}\n\nfunction keepSameNumBetweenBarAndData(bars) {\n  bars.forEach(function (bar) {\n    var data = bar.data,\n        barLabelAxisPos = bar.barLabelAxisPos,\n        barValueAxisPos = bar.barValueAxisPos;\n    var dataNum = data.filter(function (d) {\n      return typeof d === 'number';\n    }).length;\n    var axisPosNum = barLabelAxisPos.length;\n\n    if (axisPosNum > dataNum) {\n      barLabelAxisPos.splice(dataNum);\n      barValueAxisPos.splice(dataNum);\n    }\n  });\n  return bars;\n}\n\nfunction getValuePos(min, max, value, linePosition, axis) {\n  if (typeof value !== 'number') return null;\n  var valueMinus = max - min;\n  var coordinateIndex = axis === 'x' ? 0 : 1;\n  var posMinus = linePosition[1][coordinateIndex] - linePosition[0][coordinateIndex];\n  var percent = (value - min) / valueMinus;\n  if (valueMinus === 0) percent = 0;\n  var pos = percent * posMinus;\n  return pos + linePosition[0][coordinateIndex];\n}\n\nfunction getBackgroundBarConfig(barItem) {\n  var animationCurve = barItem.animationCurve,\n      animationFrame = barItem.animationFrame,\n      rLevel = barItem.rLevel;\n  var shapes = getBackgroundBarShapes(barItem);\n  var style = getBackgroundBarStyle(barItem);\n  return shapes.map(function (shape) {\n    return {\n      name: 'rect',\n      index: rLevel,\n      visible: barItem.backgroundBar.show,\n      animationCurve: animationCurve,\n      animationFrame: animationFrame,\n      shape: shape,\n      style: style\n    };\n  });\n}\n\nfunction getBackgroundBarShapes(barItem) {\n  var labelAxis = barItem.labelAxis,\n      valueAxis = barItem.valueAxis;\n  var tickPosition = labelAxis.tickPosition;\n  var axis = valueAxis.axis,\n      linePosition = valueAxis.linePosition;\n  var width = getBackgroundBarWidth(barItem);\n  var haltWidth = width / 2;\n  var posIndex = axis === 'x' ? 0 : 1;\n  var centerPos = tickPosition.map(function (p) {\n    return p[1 - posIndex];\n  });\n  var _ref9 = [linePosition[0][posIndex], linePosition[1][posIndex]],\n      start = _ref9[0],\n      end = _ref9[1];\n  return centerPos.map(function (center) {\n    if (axis === 'x') {\n      return {\n        x: start,\n        y: center - haltWidth,\n        w: end - start,\n        h: width\n      };\n    } else {\n      return {\n        x: center - haltWidth,\n        y: end,\n        w: width,\n        h: start - end\n      };\n    }\n  });\n}\n\nfunction getBackgroundBarWidth(barItem) {\n  var barAllWidthAndGap = barItem.barAllWidthAndGap,\n      barCategoryWidth = barItem.barCategoryWidth,\n      backgroundBar = barItem.backgroundBar;\n  var width = backgroundBar.width;\n  if (typeof width === 'number') return width;\n  if (width === 'auto') return barAllWidthAndGap;\n  return parseInt(width) / 100 * barCategoryWidth;\n}\n\nfunction getBackgroundBarStyle(barItem) {\n  return barItem.backgroundBar.style;\n}\n\nfunction getBarConfig(barItem) {\n  var barLabelAxisPos = barItem.barLabelAxisPos,\n      animationCurve = barItem.animationCurve,\n      animationFrame = barItem.animationFrame,\n      rLevel = barItem.rLevel;\n  var name = getBarName(barItem);\n  return barLabelAxisPos.map(function (foo, i) {\n    return {\n      name: name,\n      index: rLevel,\n      animationCurve: animationCurve,\n      animationFrame: animationFrame,\n      shape: getBarShape(barItem, i),\n      style: getBarStyle(barItem, i)\n    };\n  });\n}\n\nfunction getBarName(barItem) {\n  var shapeType = barItem.shapeType;\n  if (shapeType === 'leftEchelon' || shapeType === 'rightEchelon') return 'polyline';\n  return 'rect';\n}\n\nfunction getBarShape(barItem, i) {\n  var shapeType = barItem.shapeType;\n\n  if (shapeType === 'leftEchelon') {\n    return getLeftEchelonShape(barItem, i);\n  } else if (shapeType === 'rightEchelon') {\n    return getRightEchelonShape(barItem, i);\n  } else {\n    return getNormalBarShape(barItem, i);\n  }\n}\n\nfunction getLeftEchelonShape(barItem, i) {\n  var barValueAxisPos = barItem.barValueAxisPos,\n      barLabelAxisPos = barItem.barLabelAxisPos,\n      barWidth = barItem.barWidth,\n      echelonOffset = barItem.echelonOffset;\n\n  var _barValueAxisPos$i = (0, _slicedToArray2[\"default\"])(barValueAxisPos[i], 2),\n      start = _barValueAxisPos$i[0],\n      end = _barValueAxisPos$i[1];\n\n  var labelAxisPos = barLabelAxisPos[i];\n  var halfWidth = barWidth / 2;\n  var valueAxis = barItem.valueAxis.axis;\n  var points = [];\n\n  if (valueAxis === 'x') {\n    points[0] = [end, labelAxisPos - halfWidth];\n    points[1] = [end, labelAxisPos + halfWidth];\n    points[2] = [start, labelAxisPos + halfWidth];\n    points[3] = [start + echelonOffset, labelAxisPos - halfWidth];\n    if (end - start < echelonOffset) points.splice(3, 1);\n  } else {\n    points[0] = [labelAxisPos - halfWidth, end];\n    points[1] = [labelAxisPos + halfWidth, end];\n    points[2] = [labelAxisPos + halfWidth, start];\n    points[3] = [labelAxisPos - halfWidth, start - echelonOffset];\n    if (start - end < echelonOffset) points.splice(3, 1);\n  }\n\n  return {\n    points: points,\n    close: true\n  };\n}\n\nfunction getRightEchelonShape(barItem, i) {\n  var barValueAxisPos = barItem.barValueAxisPos,\n      barLabelAxisPos = barItem.barLabelAxisPos,\n      barWidth = barItem.barWidth,\n      echelonOffset = barItem.echelonOffset;\n\n  var _barValueAxisPos$i2 = (0, _slicedToArray2[\"default\"])(barValueAxisPos[i], 2),\n      start = _barValueAxisPos$i2[0],\n      end = _barValueAxisPos$i2[1];\n\n  var labelAxisPos = barLabelAxisPos[i];\n  var halfWidth = barWidth / 2;\n  var valueAxis = barItem.valueAxis.axis;\n  var points = [];\n\n  if (valueAxis === 'x') {\n    points[0] = [end, labelAxisPos + halfWidth];\n    points[1] = [end, labelAxisPos - halfWidth];\n    points[2] = [start, labelAxisPos - halfWidth];\n    points[3] = [start + echelonOffset, labelAxisPos + halfWidth];\n    if (end - start < echelonOffset) points.splice(2, 1);\n  } else {\n    points[0] = [labelAxisPos + halfWidth, end];\n    points[1] = [labelAxisPos - halfWidth, end];\n    points[2] = [labelAxisPos - halfWidth, start];\n    points[3] = [labelAxisPos + halfWidth, start - echelonOffset];\n    if (start - end < echelonOffset) points.splice(2, 1);\n  }\n\n  return {\n    points: points,\n    close: true\n  };\n}\n\nfunction getNormalBarShape(barItem, i) {\n  var barValueAxisPos = barItem.barValueAxisPos,\n      barLabelAxisPos = barItem.barLabelAxisPos,\n      barWidth = barItem.barWidth;\n\n  var _barValueAxisPos$i3 = (0, _slicedToArray2[\"default\"])(barValueAxisPos[i], 2),\n      start = _barValueAxisPos$i3[0],\n      end = _barValueAxisPos$i3[1];\n\n  var labelAxisPos = barLabelAxisPos[i];\n  var valueAxis = barItem.valueAxis.axis;\n  var shape = {};\n\n  if (valueAxis === 'x') {\n    shape.x = start;\n    shape.y = labelAxisPos - barWidth / 2;\n    shape.w = end - start;\n    shape.h = barWidth;\n  } else {\n    shape.x = labelAxisPos - barWidth / 2;\n    shape.y = end;\n    shape.w = barWidth;\n    shape.h = start - end;\n  }\n\n  return shape;\n}\n\nfunction getBarStyle(barItem, i) {\n  var barStyle = barItem.barStyle,\n      gradient = barItem.gradient,\n      color = barItem.color,\n      independentColor = barItem.independentColor,\n      independentColors = barItem.independentColors;\n  var fillColor = [barStyle.fill || color];\n  var gradientColor = (0, _util2.deepMerge)(fillColor, gradient.color);\n\n  if (independentColor) {\n    var idtColor = independentColors[i % independentColors.length];\n    gradientColor = idtColor instanceof Array ? idtColor : [idtColor];\n  }\n\n  if (gradientColor.length === 1) gradientColor.push(gradientColor[0]);\n  var gradientParams = getGradientParams(barItem, i);\n  return (0, _util2.deepMerge)({\n    gradientColor: gradientColor,\n    gradientParams: gradientParams,\n    gradientType: 'linear',\n    gradientWith: 'fill'\n  }, barStyle);\n}\n\nfunction getGradientParams(barItem, i) {\n  var barValueAxisPos = barItem.barValueAxisPos,\n      barLabelAxisPos = barItem.barLabelAxisPos,\n      data = barItem.data;\n  var _barItem$valueAxis = barItem.valueAxis,\n      linePosition = _barItem$valueAxis.linePosition,\n      axis = _barItem$valueAxis.axis;\n\n  var _barValueAxisPos$i4 = (0, _slicedToArray2[\"default\"])(barValueAxisPos[i], 2),\n      start = _barValueAxisPos$i4[0],\n      end = _barValueAxisPos$i4[1];\n\n  var labelAxisPos = barLabelAxisPos[i];\n  var value = data[i];\n\n  var _linePosition = (0, _slicedToArray2[\"default\"])(linePosition, 2),\n      lineStart = _linePosition[0],\n      lineEnd = _linePosition[1];\n\n  var valueAxisIndex = axis === 'x' ? 0 : 1;\n  var endPos = end;\n\n  if (!barItem.gradient.local) {\n    endPos = value < 0 ? lineStart[valueAxisIndex] : lineEnd[valueAxisIndex];\n  }\n\n  if (axis === 'y') {\n    return [labelAxisPos, endPos, labelAxisPos, start];\n  } else {\n    return [endPos, labelAxisPos, start, labelAxisPos];\n  }\n}\n\nfunction getStartBarConfig(barItem) {\n  var configs = getBarConfig(barItem);\n  var shapeType = barItem.shapeType;\n  configs.forEach(function (config) {\n    var shape = config.shape;\n\n    if (shapeType === 'leftEchelon') {\n      shape = getStartLeftEchelonShape(shape, barItem);\n    } else if (shapeType === 'rightEchelon') {\n      shape = getStartRightEchelonShape(shape, barItem);\n    } else {\n      shape = getStartNormalBarShape(shape, barItem);\n    }\n\n    config.shape = shape;\n  });\n  return configs;\n}\n\nfunction getStartLeftEchelonShape(shape, barItem) {\n  var axis = barItem.valueAxis.axis;\n  shape = (0, _util.deepClone)(shape);\n  var _shape = shape,\n      points = _shape.points;\n  var index = axis === 'x' ? 0 : 1;\n  var start = points[2][index];\n  points.forEach(function (point) {\n    return point[index] = start;\n  });\n  return shape;\n}\n\nfunction getStartRightEchelonShape(shape, barItem) {\n  var axis = barItem.valueAxis.axis;\n  shape = (0, _util.deepClone)(shape);\n  var _shape2 = shape,\n      points = _shape2.points;\n  var index = axis === 'x' ? 0 : 1;\n  var start = points[2][index];\n  points.forEach(function (point) {\n    return point[index] = start;\n  });\n  return shape;\n}\n\nfunction getStartNormalBarShape(shape, barItem) {\n  var axis = barItem.valueAxis.axis;\n  var x = shape.x,\n      y = shape.y,\n      w = shape.w,\n      h = shape.h;\n\n  if (axis === 'x') {\n    w = 0;\n  } else {\n    y = y + h;\n    h = 0;\n  }\n\n  return {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  };\n}\n\nfunction beforeUpdateBar(graphs, barItem, i, updater) {\n  var render = updater.chart.render;\n  var name = getBarName(barItem);\n\n  if (graphs[i] && graphs[i][0].name !== name) {\n    graphs[i].forEach(function (g) {\n      return render.delGraph(g);\n    });\n    graphs[i] = null;\n  }\n}\n\nfunction getLabelConfig(barItem) {\n  var animationCurve = barItem.animationCurve,\n      animationFrame = barItem.animationFrame,\n      rLevel = barItem.rLevel;\n  var shapes = getLabelShapes(barItem);\n  var style = getLabelStyle(barItem);\n  return shapes.map(function (shape) {\n    return {\n      name: 'text',\n      index: rLevel,\n      visible: barItem.label.show,\n      animationCurve: animationCurve,\n      animationFrame: animationFrame,\n      shape: shape,\n      style: style\n    };\n  });\n}\n\nfunction getLabelShapes(barItem) {\n  var contents = getFormatterLabels(barItem);\n  var position = getLabelsPosition(barItem);\n  return position.map(function (pos, i) {\n    return {\n      position: pos,\n      content: contents[i]\n    };\n  });\n}\n\nfunction getFormatterLabels(barItem) {\n  var data = barItem.data,\n      label = barItem.label;\n  var formatter = label.formatter;\n  data = data.filter(function (d) {\n    return typeof d === 'number';\n  }).map(function (d) {\n    return d.toString();\n  });\n  if (!formatter) return data;\n  var type = (0, _typeof2[\"default\"])(formatter);\n  if (type === 'string') return data.map(function (d) {\n    return formatter.replace('{value}', d);\n  });\n  if (type === 'function') return data.map(function (d, i) {\n    return formatter({\n      value: d,\n      index: i\n    });\n  });\n  return data;\n}\n\nfunction getLabelsPosition(barItem) {\n  var label = barItem.label,\n      barValueAxisPos = barItem.barValueAxisPos,\n      barLabelAxisPos = barItem.barLabelAxisPos;\n  var position = label.position,\n      offset = label.offset;\n  var axis = barItem.valueAxis.axis;\n  return barValueAxisPos.map(function (_ref10, i) {\n    var _ref11 = (0, _slicedToArray2[\"default\"])(_ref10, 2),\n        start = _ref11[0],\n        end = _ref11[1];\n\n    var labelAxisPos = barLabelAxisPos[i];\n    var pos = [end, labelAxisPos];\n\n    if (position === 'bottom') {\n      pos = [start, labelAxisPos];\n    }\n\n    if (position === 'center') {\n      pos = [(start + end) / 2, labelAxisPos];\n    }\n\n    if (axis === 'y') pos.reverse();\n    return getOffsetedPoint(pos, offset);\n  });\n}\n\nfunction getOffsetedPoint(_ref12, _ref13) {\n  var _ref14 = (0, _slicedToArray2[\"default\"])(_ref12, 2),\n      x = _ref14[0],\n      y = _ref14[1];\n\n  var _ref15 = (0, _slicedToArray2[\"default\"])(_ref13, 2),\n      ox = _ref15[0],\n      oy = _ref15[1];\n\n  return [x + ox, y + oy];\n}\n\nfunction getLabelStyle(barItem) {\n  var color = barItem.color,\n      style = barItem.label.style,\n      gc = barItem.gradient.color;\n  if (gc.length) color = gc[0];\n  style = (0, _util2.deepMerge)({\n    fill: color\n  }, style);\n  return style;\n}"],"mappings":"AAAA,YAAY;;AAACA,OAAA;AAEb,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAA8C,CAAC;AAEpFE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,GAAG,GAAGA,GAAG;AAEjB,IAAIC,QAAQ,GAAGN,sBAAsB,CAACD,OAAO,CAAC,+BAA+B,CAAC,CAAC;AAE/E,IAAIQ,gBAAgB,GAAGP,sBAAsB,CAACD,OAAO,CAAC,uCAAuC,CAAC,CAAC;AAE/F,IAAIS,eAAe,GAAGR,sBAAsB,CAACD,OAAO,CAAC,sCAAsC,CAAC,CAAC;AAE7F,IAAIU,mBAAmB,GAAGT,sBAAsB,CAACD,OAAO,CAAC,0CAA0C,CAAC,CAAC;AAErG,IAAIW,QAAQ,GAAGX,OAAO,CAAC,wBAAwB,CAAC;AAEhD,IAAIY,OAAO,GAAGZ,OAAO,CAAC,WAAW,CAAC;AAElC,IAAIa,KAAK,GAAGb,OAAO,CAAC,qCAAqC,CAAC;AAE1D,IAAIc,MAAM,GAAGd,OAAO,CAAC,SAAS,CAAC;AAE/B,SAASe,OAAOA,CAACC,MAAM,EAAEC,cAAc,EAAE;EAAE,IAAIC,IAAI,GAAGhB,MAAM,CAACgB,IAAI,CAACF,MAAM,CAAC;EAAE,IAAId,MAAM,CAACiB,qBAAqB,EAAE;IAAE,IAAIC,OAAO,GAAGlB,MAAM,CAACiB,qBAAqB,CAACH,MAAM,CAAC;IAAE,IAAIC,cAAc,EAAEG,OAAO,GAAGA,OAAO,CAACC,MAAM,CAAC,UAAUC,GAAG,EAAE;MAAE,OAAOpB,MAAM,CAACqB,wBAAwB,CAACP,MAAM,EAAEM,GAAG,CAAC,CAACE,UAAU;IAAE,CAAC,CAAC;IAAEN,IAAI,CAACO,IAAI,CAACC,KAAK,CAACR,IAAI,EAAEE,OAAO,CAAC;EAAE;EAAE,OAAOF,IAAI;AAAE;AAEpV,SAASS,aAAaA,CAACC,MAAM,EAAE;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;IAAE,IAAIG,MAAM,GAAGF,SAAS,CAACD,CAAC,CAAC,IAAI,IAAI,GAAGC,SAAS,CAACD,CAAC,CAAC,GAAG,CAAC,CAAC;IAAE,IAAIA,CAAC,GAAG,CAAC,EAAE;MAAEd,OAAO,CAACb,MAAM,CAAC8B,MAAM,CAAC,EAAE,IAAI,CAAC,CAACC,OAAO,CAAC,UAAUC,GAAG,EAAE;QAAE,CAAC,CAAC,EAAE1B,gBAAgB,CAAC,SAAS,CAAC,EAAEoB,MAAM,EAAEM,GAAG,EAAEF,MAAM,CAACE,GAAG,CAAC,CAAC;MAAE,CAAC,CAAC;IAAE,CAAC,MAAM,IAAIhC,MAAM,CAACiC,yBAAyB,EAAE;MAAEjC,MAAM,CAACkC,gBAAgB,CAACR,MAAM,EAAE1B,MAAM,CAACiC,yBAAyB,CAACH,MAAM,CAAC,CAAC;IAAE,CAAC,MAAM;MAAEjB,OAAO,CAACb,MAAM,CAAC8B,MAAM,CAAC,CAAC,CAACC,OAAO,CAAC,UAAUC,GAAG,EAAE;QAAEhC,MAAM,CAACC,cAAc,CAACyB,MAAM,EAAEM,GAAG,EAAEhC,MAAM,CAACqB,wBAAwB,CAACS,MAAM,EAAEE,GAAG,CAAC,CAAC;MAAE,CAAC,CAAC;IAAE;EAAE;EAAE,OAAON,MAAM;AAAE;AAEtiB,SAAStB,GAAGA,CAAC+B,KAAK,EAAE;EAClB,IAAIC,MAAM,GAAGR,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKS,SAAS,GAAGT,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EACnF,IAAIU,KAAK,GAAGF,MAAM,CAACE,KAAK;IACpBC,KAAK,GAAGH,MAAM,CAACG,KAAK;IACpBC,MAAM,GAAGJ,MAAM,CAACI,MAAM;EAC1B,IAAIC,IAAI,GAAG,EAAE;EAEb,IAAIH,KAAK,IAAIC,KAAK,IAAIC,MAAM,EAAE;IAC5BC,IAAI,GAAG,CAAC,CAAC,EAAE7B,MAAM,CAAC8B,cAAc,EAAEF,MAAM,EAAE9B,OAAO,CAACiC,SAAS,EAAE,KAAK,CAAC;IACnEF,IAAI,GAAGG,UAAU,CAACH,IAAI,EAAEN,KAAK,CAAC;IAC9BM,IAAI,GAAGI,kBAAkB,CAACJ,IAAI,EAAEN,KAAK,CAAC;IACtCM,IAAI,GAAGK,gBAAgB,CAACL,IAAI,EAAEN,KAAK,CAAC;EACtC;EAEA,CAAC,CAAC,EAAE1B,QAAQ,CAACsC,QAAQ,EAAE;IACrBZ,KAAK,EAAEA,KAAK;IACZK,MAAM,EAAEC,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAAC;IACtBhB,GAAG,EAAE,eAAe;IACpBiB,cAAc,EAAEC;EAClB,CAAC,CAAC;EACFT,IAAI,CAACU,OAAO,CAAC,CAAC;EACd,CAAC,CAAC,EAAE1C,QAAQ,CAACsC,QAAQ,EAAE;IACrBZ,KAAK,EAAEA,KAAK;IACZK,MAAM,EAAEC,IAAI;IACZT,GAAG,EAAE,KAAK;IACViB,cAAc,EAAEG,YAAY;IAC5BC,mBAAmB,EAAEC,iBAAiB;IACtCC,YAAY,EAAEC;EAChB,CAAC,CAAC;EACF,CAAC,CAAC,EAAE/C,QAAQ,CAACsC,QAAQ,EAAE;IACrBZ,KAAK,EAAEA,KAAK;IACZK,MAAM,EAAEC,IAAI;IACZT,GAAG,EAAE,UAAU;IACfiB,cAAc,EAAEQ;EAClB,CAAC,CAAC;AACJ;AAEA,SAASb,UAAUA,CAACH,IAAI,EAAEN,KAAK,EAAE;EAC/B,IAAIuB,QAAQ,GAAGvB,KAAK,CAACuB,QAAQ;EAC7BjB,IAAI,CAACV,OAAO,CAAC,UAAU3B,GAAG,EAAE;IAC1B,IAAIuD,UAAU,GAAGvD,GAAG,CAACuD,UAAU;MAC3BC,UAAU,GAAGxD,GAAG,CAACwD,UAAU;IAC/B,IAAI,OAAOD,UAAU,KAAK,QAAQ,EAAEA,UAAU,GAAG,CAAC;IAClD,IAAI,OAAOC,UAAU,KAAK,QAAQ,EAAEA,UAAU,GAAG,CAAC;IAClD,IAAItB,KAAK,GAAGoB,QAAQ,CAACG,IAAI,CAAC,UAAUC,IAAI,EAAE;MACxC,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAI;QAChBC,KAAK,GAAGF,IAAI,CAACE,KAAK;MACtB,OAAO,EAAE,CAACC,MAAM,CAACF,IAAI,CAAC,CAACE,MAAM,CAACD,KAAK,CAAC,KAAK,GAAG,CAACC,MAAM,CAACN,UAAU,CAAC;IACjE,CAAC,CAAC;IACF,IAAIpB,KAAK,GAAGmB,QAAQ,CAACG,IAAI,CAAC,UAAUK,KAAK,EAAE;MACzC,IAAIH,IAAI,GAAGG,KAAK,CAACH,IAAI;QACjBC,KAAK,GAAGE,KAAK,CAACF,KAAK;MACvB,OAAO,EAAE,CAACC,MAAM,CAACF,IAAI,CAAC,CAACE,MAAM,CAACD,KAAK,CAAC,KAAK,GAAG,CAACC,MAAM,CAACL,UAAU,CAAC;IACjE,CAAC,CAAC;IACF,IAAIG,IAAI,GAAG,CAACzB,KAAK,EAAEC,KAAK,CAAC;IACzB,IAAI4B,cAAc,GAAGJ,IAAI,CAACK,SAAS,CAAC,UAAUC,KAAK,EAAE;MACnD,IAAIC,IAAI,GAAGD,KAAK,CAACC,IAAI;MACrB,OAAOA,IAAI,KAAK,OAAO;IACzB,CAAC,CAAC;IACFlE,GAAG,CAACmE,SAAS,GAAGR,IAAI,CAACI,cAAc,CAAC;IACpC/D,GAAG,CAACoE,SAAS,GAAGT,IAAI,CAAC,CAAC,GAAGI,cAAc,CAAC;EAC1C,CAAC,CAAC;EACF,OAAO1B,IAAI;AACb;AAEA,SAASI,kBAAkBA,CAACJ,IAAI,EAAEN,KAAK,EAAE;EACvC,IAAIsC,aAAa,GAAGC,mBAAmB,CAACjC,IAAI,CAAC;EAC7CgC,aAAa,CAAC1C,OAAO,CAAC,UAAU4C,KAAK,EAAE;IACrCC,WAAW,CAACD,KAAK,CAAC;IAClBE,SAAS,CAACF,KAAK,CAAC;IAChBG,mBAAmB,CAACH,KAAK,EAAExC,KAAK,CAAC;IACjC4C,iBAAiB,CAACJ,KAAK,CAAC;IACxBK,oBAAoB,CAACL,KAAK,CAAC;EAC7B,CAAC,CAAC;EACF,OAAOlC,IAAI;AACb;AAEA,SAASmC,WAAWA,CAACnC,IAAI,EAAE;EACzB,IAAIwC,MAAM,GAAGC,WAAW,CAACzC,IAAI,CAAC;EAC9BwC,MAAM,GAAGA,MAAM,CAACE,GAAG,CAAC,UAAUC,KAAK,EAAE;IACnC,OAAO;MACLA,KAAK,EAAEA,KAAK;MACZpB,KAAK,EAAE,CAAC;IACV,CAAC;EACH,CAAC,CAAC;EACF,IAAIqB,YAAY,GAAG,CAAC;EACpB5C,IAAI,CAACV,OAAO,CAAC,UAAU3B,GAAG,EAAE;IAC1B,IAAIgF,KAAK,GAAGhF,GAAG,CAACgF,KAAK;IAErB,IAAI,CAACA,KAAK,EAAE;MACVhF,GAAG,CAACkF,QAAQ,GAAGD,YAAY;MAC3BA,YAAY,EAAE;IAChB,CAAC,MAAM;MACL,IAAIE,SAAS,GAAGN,MAAM,CAACpB,IAAI,CAAC,UAAU2B,KAAK,EAAE;QAC3C,IAAIC,CAAC,GAAGD,KAAK,CAACJ,KAAK;QACnB,OAAOK,CAAC,KAAKL,KAAK;MACpB,CAAC,CAAC;MAEF,IAAIG,SAAS,CAACvB,KAAK,KAAK,CAAC,CAAC,EAAE;QAC1BuB,SAAS,CAACvB,KAAK,GAAGqB,YAAY;QAC9BA,YAAY,EAAE;MAChB;MAEAjF,GAAG,CAACkF,QAAQ,GAAGC,SAAS,CAACvB,KAAK;IAChC;EACF,CAAC,CAAC;AACJ;AAEA,SAASU,mBAAmBA,CAACjC,IAAI,EAAE;EACjC,IAAI+B,SAAS,GAAG/B,IAAI,CAAC0C,GAAG,CAAC,UAAUO,KAAK,EAAE;IACxC,IAAIC,eAAe,GAAGD,KAAK,CAAClB,SAAS;MACjCT,IAAI,GAAG4B,eAAe,CAAC5B,IAAI;MAC3BC,KAAK,GAAG2B,eAAe,CAAC3B,KAAK;IACjC,OAAOD,IAAI,GAAGC,KAAK;EACrB,CAAC,CAAC;EACFQ,SAAS,GAAG,CAAC,CAAC,EAAEhE,mBAAmB,CAAC,SAAS,CAAC,EAAE,IAAIoF,GAAG,CAACpB,SAAS,CAAC,CAAC;EACnE,OAAOA,SAAS,CAACW,GAAG,CAAC,UAAUU,SAAS,EAAE;IACxC,OAAOpD,IAAI,CAACtB,MAAM,CAAC,UAAU2E,KAAK,EAAE;MAClC,IAAIC,eAAe,GAAGD,KAAK,CAACtB,SAAS;QACjCT,IAAI,GAAGgC,eAAe,CAAChC,IAAI;QAC3BC,KAAK,GAAG+B,eAAe,CAAC/B,KAAK;MACjC,OAAOD,IAAI,GAAGC,KAAK,KAAK6B,SAAS;IACnC,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAEA,SAASX,WAAWA,CAACzC,IAAI,EAAE;EACzB,IAAIwC,MAAM,GAAG,EAAE;EACfxC,IAAI,CAACV,OAAO,CAAC,UAAUiE,KAAK,EAAE;IAC5B,IAAIZ,KAAK,GAAGY,KAAK,CAACZ,KAAK;IACvB,IAAIA,KAAK,EAAEH,MAAM,CAAC1D,IAAI,CAAC6D,KAAK,CAAC;EAC/B,CAAC,CAAC;EACF,OAAO,CAAC,CAAC,EAAE5E,mBAAmB,CAAC,SAAS,CAAC,EAAE,IAAIoF,GAAG,CAACX,MAAM,CAAC,CAAC;AAC7D;AAEA,SAASJ,SAASA,CAACpC,IAAI,EAAE;EACvB,IAAIwD,MAAM,GAAG,CAAC,CAAC,EAAEzF,mBAAmB,CAAC,SAAS,CAAC,EAAE,IAAIoF,GAAG,CAACnD,IAAI,CAAC0C,GAAG,CAAC,UAAUe,KAAK,EAAE;IACjF,IAAIZ,QAAQ,GAAGY,KAAK,CAACZ,QAAQ;IAC7B,OAAOA,QAAQ;EACjB,CAAC,CAAC,CAAC,CAAC,CAACzD,MAAM;EACXY,IAAI,CAACV,OAAO,CAAC,UAAU3B,GAAG,EAAE;IAC1B,OAAOA,GAAG,CAAC6F,MAAM,GAAGA,MAAM;EAC5B,CAAC,CAAC;AACJ;AAEA,SAASnB,mBAAmBA,CAACrC,IAAI,EAAE;EACjC,IAAI0D,OAAO,GAAG1D,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC/B,IAAIoD,cAAc,GAAGD,OAAO,CAACC,cAAc;IACvCC,OAAO,GAAGF,OAAO,CAAC3B,SAAS,CAAC6B,OAAO;EACvC,IAAIC,gBAAgB,GAAG,CAAC;EAExB,IAAI,OAAOF,cAAc,KAAK,QAAQ,EAAE;IACtCE,gBAAgB,GAAGF,cAAc;EACnC,CAAC,MAAM;IACLE,gBAAgB,GAAG,CAAC,CAAC,GAAGC,QAAQ,CAACH,cAAc,CAAC,GAAG,GAAG,IAAIC,OAAO;EACnE;EAEA5D,IAAI,CAACV,OAAO,CAAC,UAAU3B,GAAG,EAAE;IAC1B,OAAOA,GAAG,CAACkG,gBAAgB,GAAGA,gBAAgB;EAChD,CAAC,CAAC;AACJ;AAEA,SAASvB,iBAAiBA,CAACtC,IAAI,EAAE;EAC/B,IAAI+D,YAAY,GAAG/D,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChCsD,gBAAgB,GAAGE,YAAY,CAACF,gBAAgB;IAChDG,QAAQ,GAAGD,YAAY,CAACC,QAAQ;IAChCC,MAAM,GAAGF,YAAY,CAACE,MAAM;IAC5BT,MAAM,GAAGO,YAAY,CAACP,MAAM;EAChC,IAAIU,WAAW,GAAG,EAAE;EAEpB,IAAI,OAAOF,QAAQ,KAAK,QAAQ,IAAIA,QAAQ,KAAK,MAAM,EAAE;IACvDE,WAAW,GAAGC,oCAAoC,CAACN,gBAAgB,EAAEG,QAAQ,EAAEC,MAAM,EAAET,MAAM,CAAC;EAChG,CAAC,MAAM,IAAIQ,QAAQ,KAAK,MAAM,EAAE;IAC9BE,WAAW,GAAGE,0BAA0B,CAACP,gBAAgB,EAAEG,QAAQ,EAAEC,MAAM,EAAET,MAAM,CAAC;EACtF;EAEA,IAAIa,YAAY,GAAGH,WAAW;IAC1BI,aAAa,GAAG,CAAC,CAAC,EAAExG,eAAe,CAAC,SAAS,CAAC,EAAEuG,YAAY,EAAE,CAAC,CAAC;IAChEE,KAAK,GAAGD,aAAa,CAAC,CAAC,CAAC;IACxBE,GAAG,GAAGF,aAAa,CAAC,CAAC,CAAC;EAE1BtE,IAAI,CAACV,OAAO,CAAC,UAAU3B,GAAG,EAAE;IAC1BA,GAAG,CAACqG,QAAQ,GAAGO,KAAK;IACpB5G,GAAG,CAACsG,MAAM,GAAGO,GAAG;EAClB,CAAC,CAAC;AACJ;AAEA,SAASL,oCAAoCA,CAACN,gBAAgB,EAAEG,QAAQ,EAAEC,MAAM,EAAE;EAChF,IAAIM,KAAK,GAAG,CAAC;IACTC,GAAG,GAAG,CAAC;EAEX,IAAI,OAAOR,QAAQ,KAAK,QAAQ,EAAE;IAChCO,KAAK,GAAGP,QAAQ;EAClB,CAAC,MAAM;IACLO,KAAK,GAAGT,QAAQ,CAACE,QAAQ,CAAC,GAAG,GAAG,GAAGH,gBAAgB;EACrD;EAEA,IAAI,OAAOI,MAAM,KAAK,QAAQ,EAAE;IAC9BO,GAAG,GAAGP,MAAM;EACd,CAAC,MAAM;IACLO,GAAG,GAAGV,QAAQ,CAACG,MAAM,CAAC,GAAG,GAAG,GAAGM,KAAK;EACtC;EAEA,OAAO,CAACA,KAAK,EAAEC,GAAG,CAAC;AACrB;AAEA,SAASJ,0BAA0BA,CAACP,gBAAgB,EAAEG,QAAQ,EAAEC,MAAM,EAAET,MAAM,EAAE;EAC9E,IAAIe,KAAK,GAAG,CAAC;IACTC,GAAG,GAAG,CAAC;EACX,IAAIC,YAAY,GAAGZ,gBAAgB,GAAGL,MAAM;EAE5C,IAAI,OAAOS,MAAM,KAAK,QAAQ,EAAE;IAC9BO,GAAG,GAAGP,MAAM;IACZM,KAAK,GAAGE,YAAY,GAAGD,GAAG;EAC5B,CAAC,MAAM;IACL,IAAIE,OAAO,GAAG,EAAE,GAAGZ,QAAQ,CAACG,MAAM,CAAC,GAAG,EAAE;IAExC,IAAIS,OAAO,KAAK,CAAC,EAAE;MACjBH,KAAK,GAAGE,YAAY,GAAG,CAAC;MACxBD,GAAG,GAAG,CAACD,KAAK;IACd,CAAC,MAAM;MACLA,KAAK,GAAGE,YAAY,GAAGC,OAAO,GAAG,EAAE;MACnCF,GAAG,GAAGC,YAAY,GAAGF,KAAK;IAC5B;EACF;EAEA,OAAO,CAACA,KAAK,EAAEC,GAAG,CAAC;AACrB;AAEA,SAASjC,oBAAoBA,CAACvC,IAAI,EAAE;EAClC,IAAI2E,aAAa,GAAG3E,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjC0D,MAAM,GAAGU,aAAa,CAACV,MAAM;IAC7BD,QAAQ,GAAGW,aAAa,CAACX,QAAQ;IACjCR,MAAM,GAAGmB,aAAa,CAACnB,MAAM;EACjC,IAAIoB,iBAAiB,GAAG,CAACX,MAAM,GAAGD,QAAQ,IAAIR,MAAM,GAAGS,MAAM;EAC7DjE,IAAI,CAACV,OAAO,CAAC,UAAU3B,GAAG,EAAE;IAC1B,OAAOA,GAAG,CAACiH,iBAAiB,GAAGA,iBAAiB;EAClD,CAAC,CAAC;AACJ;AAEA,SAASvE,gBAAgBA,CAACL,IAAI,EAAEN,KAAK,EAAE;EACrCM,IAAI,GAAG6E,0BAA0B,CAAC7E,IAAI,CAAC;EACvCA,IAAI,GAAG8E,0BAA0B,CAAC9E,IAAI,CAAC;EACvCA,IAAI,GAAG+E,yBAAyB,CAAC/E,IAAI,CAAC;EACtCA,IAAI,GAAGgF,4BAA4B,CAAChF,IAAI,CAAC;EACzC,OAAOA,IAAI;AACb;AAEA,SAAS8E,0BAA0BA,CAAC9E,IAAI,EAAE;EACxC,OAAOA,IAAI,CAAC0C,GAAG,CAAC,UAAU/E,GAAG,EAAE;IAC7B,IAAIoE,SAAS,GAAGpE,GAAG,CAACoE,SAAS;MACzB6C,iBAAiB,GAAGjH,GAAG,CAACiH,iBAAiB;MACzCX,MAAM,GAAGtG,GAAG,CAACsG,MAAM;MACnBD,QAAQ,GAAGrG,GAAG,CAACqG,QAAQ;MACvBnB,QAAQ,GAAGlF,GAAG,CAACkF,QAAQ;IAC3B,IAAIe,OAAO,GAAG7B,SAAS,CAAC6B,OAAO;MAC3BqB,YAAY,GAAGlD,SAAS,CAACkD,YAAY;MACrC3D,IAAI,GAAGS,SAAS,CAACT,IAAI;IACzB,IAAI4D,eAAe,GAAG5D,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;IAC1C,IAAI6D,eAAe,GAAGF,YAAY,CAACvC,GAAG,CAAC,UAAU0C,IAAI,EAAElG,CAAC,EAAE;MACxD,IAAImG,mBAAmB,GAAGJ,YAAY,CAAC/F,CAAC,CAAC,CAACgG,eAAe,CAAC,GAAGtB,OAAO,GAAG,CAAC;MACxE,IAAI0B,gBAAgB,GAAGD,mBAAmB,GAAG,CAACzB,OAAO,GAAGgB,iBAAiB,IAAI,CAAC;MAC9E,OAAOU,gBAAgB,GAAG,CAACzC,QAAQ,GAAG,GAAG,IAAImB,QAAQ,GAAGnB,QAAQ,GAAGoB,MAAM;IAC3E,CAAC,CAAC;IACF,OAAOjF,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAErB,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE;MAC/CwH,eAAe,EAAEA;IACnB,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAEA,SAASN,0BAA0BA,CAAC7E,IAAI,EAAE;EACxC,OAAOA,IAAI,CAAC0C,GAAG,CAAC,UAAU/E,GAAG,EAAE;IAC7B,IAAIkE,IAAI,GAAG,CAAC,CAAC,EAAE1D,MAAM,CAACoH,kBAAkB,EAAE5H,GAAG,EAAEqC,IAAI,CAAC;IACpD6B,IAAI,GAAG2D,sBAAsB,CAAC7H,GAAG,EAAEkE,IAAI,CAAC;IACxC,IAAI4D,cAAc,GAAG9H,GAAG,CAACmE,SAAS;MAC9BR,IAAI,GAAGmE,cAAc,CAACnE,IAAI;MAC1BoE,QAAQ,GAAGD,cAAc,CAACC,QAAQ;MAClCC,QAAQ,GAAGF,cAAc,CAACE,QAAQ;MAClCC,YAAY,GAAGH,cAAc,CAACG,YAAY;IAC9C,IAAIC,QAAQ,GAAGC,WAAW,CAACJ,QAAQ,EAAEC,QAAQ,EAAED,QAAQ,GAAG,CAAC,GAAG,CAAC,GAAGA,QAAQ,EAAEE,YAAY,EAAEtE,IAAI,CAAC;IAC/F,IAAIyE,MAAM,GAAGlE,IAAI,CAACa,GAAG,CAAC,UAAUsD,CAAC,EAAE;MACjC,OAAOF,WAAW,CAACJ,QAAQ,EAAEC,QAAQ,EAAEK,CAAC,EAAEJ,YAAY,EAAEtE,IAAI,CAAC;IAC/D,CAAC,CAAC;IACF,IAAI2E,eAAe,GAAGF,MAAM,CAACrD,GAAG,CAAC,UAAUwD,CAAC,EAAE;MAC5C,OAAO,CAACL,QAAQ,EAAEK,CAAC,CAAC;IACtB,CAAC,CAAC;IACF,OAAOlH,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAErB,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE;MAC/CsI,eAAe,EAAEA;IACnB,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAEA,SAAST,sBAAsBA,CAACW,OAAO,EAAEC,OAAO,EAAE;EAChD,IAAIvE,IAAI,GAAGsE,OAAO,CAACtE,IAAI;EACvB,OAAOuE,OAAO,CAAC1D,GAAG,CAAC,UAAUsD,CAAC,EAAE9G,CAAC,EAAE;IACjC,OAAO,OAAO2C,IAAI,CAAC3C,CAAC,CAAC,KAAK,QAAQ,GAAG8G,CAAC,GAAG,IAAI;EAC/C,CAAC,CAAC,CAACtH,MAAM,CAAC,UAAU2H,CAAC,EAAE;IACrB,OAAOA,CAAC,KAAK,IAAI;EACnB,CAAC,CAAC;AACJ;AAEA,SAAStB,yBAAyBA,CAAC/E,IAAI,EAAE;EACvC,OAAOA,IAAI,CAAC0C,GAAG,CAAC,UAAU/E,GAAG,EAAE;IAC7B,IAAIwH,eAAe,GAAGxH,GAAG,CAACwH,eAAe;MACrCtD,IAAI,GAAGlE,GAAG,CAACkE,IAAI;IACnBA,IAAI,CAACvC,OAAO,CAAC,UAAU+G,CAAC,EAAEnH,CAAC,EAAE;MAC3B,IAAI,OAAOmH,CAAC,KAAK,QAAQ,EAAE;MAC3BlB,eAAe,CAACjG,CAAC,CAAC,GAAG,IAAI;IAC3B,CAAC,CAAC;IACF,OAAOF,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAErB,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE;MAC/CwH,eAAe,EAAEA,eAAe,CAACzG,MAAM,CAAC,UAAUwH,CAAC,EAAE;QACnD,OAAOA,CAAC,KAAK,IAAI;MACnB,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAEA,SAASlB,4BAA4BA,CAAChF,IAAI,EAAE;EAC1CA,IAAI,CAACV,OAAO,CAAC,UAAU3B,GAAG,EAAE;IAC1B,IAAIkE,IAAI,GAAGlE,GAAG,CAACkE,IAAI;MACfsD,eAAe,GAAGxH,GAAG,CAACwH,eAAe;MACrCc,eAAe,GAAGtI,GAAG,CAACsI,eAAe;IACzC,IAAIK,OAAO,GAAGzE,IAAI,CAACnD,MAAM,CAAC,UAAU2H,CAAC,EAAE;MACrC,OAAO,OAAOA,CAAC,KAAK,QAAQ;IAC9B,CAAC,CAAC,CAACjH,MAAM;IACT,IAAImH,UAAU,GAAGpB,eAAe,CAAC/F,MAAM;IAEvC,IAAImH,UAAU,GAAGD,OAAO,EAAE;MACxBnB,eAAe,CAACqB,MAAM,CAACF,OAAO,CAAC;MAC/BL,eAAe,CAACO,MAAM,CAACF,OAAO,CAAC;IACjC;EACF,CAAC,CAAC;EACF,OAAOtG,IAAI;AACb;AAEA,SAAS8F,WAAWA,CAACW,GAAG,EAAEC,GAAG,EAAEhJ,KAAK,EAAEkI,YAAY,EAAEtE,IAAI,EAAE;EACxD,IAAI,OAAO5D,KAAK,KAAK,QAAQ,EAAE,OAAO,IAAI;EAC1C,IAAIiJ,UAAU,GAAGD,GAAG,GAAGD,GAAG;EAC1B,IAAIvB,eAAe,GAAG5D,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;EAC1C,IAAIsF,QAAQ,GAAGhB,YAAY,CAAC,CAAC,CAAC,CAACV,eAAe,CAAC,GAAGU,YAAY,CAAC,CAAC,CAAC,CAACV,eAAe,CAAC;EAClF,IAAIR,OAAO,GAAG,CAAChH,KAAK,GAAG+I,GAAG,IAAIE,UAAU;EACxC,IAAIA,UAAU,KAAK,CAAC,EAAEjC,OAAO,GAAG,CAAC;EACjC,IAAImC,GAAG,GAAGnC,OAAO,GAAGkC,QAAQ;EAC5B,OAAOC,GAAG,GAAGjB,YAAY,CAAC,CAAC,CAAC,CAACV,eAAe,CAAC;AAC/C;AAEA,SAASzE,sBAAsBA,CAAC0F,OAAO,EAAE;EACvC,IAAIW,cAAc,GAAGX,OAAO,CAACW,cAAc;IACvCC,cAAc,GAAGZ,OAAO,CAACY,cAAc;IACvCC,MAAM,GAAGb,OAAO,CAACa,MAAM;EAC3B,IAAIC,MAAM,GAAGC,sBAAsB,CAACf,OAAO,CAAC;EAC5C,IAAIgB,KAAK,GAAGC,qBAAqB,CAACjB,OAAO,CAAC;EAC1C,OAAOc,MAAM,CAACvE,GAAG,CAAC,UAAU2E,KAAK,EAAE;IACjC,OAAO;MACLC,IAAI,EAAE,MAAM;MACZ/F,KAAK,EAAEyF,MAAM;MACbO,OAAO,EAAEpB,OAAO,CAACqB,aAAa,CAACC,IAAI;MACnCX,cAAc,EAAEA,cAAc;MAC9BC,cAAc,EAAEA,cAAc;MAC9BM,KAAK,EAAEA,KAAK;MACZF,KAAK,EAAEA;IACT,CAAC;EACH,CAAC,CAAC;AACJ;AAEA,SAASD,sBAAsBA,CAACf,OAAO,EAAE;EACvC,IAAIpE,SAAS,GAAGoE,OAAO,CAACpE,SAAS;IAC7BD,SAAS,GAAGqE,OAAO,CAACrE,SAAS;EACjC,IAAImD,YAAY,GAAGlD,SAAS,CAACkD,YAAY;EACzC,IAAI3D,IAAI,GAAGQ,SAAS,CAACR,IAAI;IACrBsE,YAAY,GAAG9D,SAAS,CAAC8D,YAAY;EACzC,IAAIrB,KAAK,GAAGmD,qBAAqB,CAACvB,OAAO,CAAC;EAC1C,IAAIwB,SAAS,GAAGpD,KAAK,GAAG,CAAC;EACzB,IAAIqD,QAAQ,GAAGtG,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;EACnC,IAAIuG,SAAS,GAAG5C,YAAY,CAACvC,GAAG,CAAC,UAAUwD,CAAC,EAAE;IAC5C,OAAOA,CAAC,CAAC,CAAC,GAAG0B,QAAQ,CAAC;EACxB,CAAC,CAAC;EACF,IAAIE,KAAK,GAAG,CAAClC,YAAY,CAAC,CAAC,CAAC,CAACgC,QAAQ,CAAC,EAAEhC,YAAY,CAAC,CAAC,CAAC,CAACgC,QAAQ,CAAC,CAAC;IAC9DG,KAAK,GAAGD,KAAK,CAAC,CAAC,CAAC;IAChBE,GAAG,GAAGF,KAAK,CAAC,CAAC,CAAC;EAClB,OAAOD,SAAS,CAACnF,GAAG,CAAC,UAAUuF,MAAM,EAAE;IACrC,IAAI3G,IAAI,KAAK,GAAG,EAAE;MAChB,OAAO;QACL4G,CAAC,EAAEH,KAAK;QACRI,CAAC,EAAEF,MAAM,GAAGN,SAAS;QACrBS,CAAC,EAAEJ,GAAG,GAAGD,KAAK;QACdM,CAAC,EAAE9D;MACL,CAAC;IACH,CAAC,MAAM;MACL,OAAO;QACL2D,CAAC,EAAED,MAAM,GAAGN,SAAS;QACrBQ,CAAC,EAAEH,GAAG;QACNI,CAAC,EAAE7D,KAAK;QACR8D,CAAC,EAAEN,KAAK,GAAGC;MACb,CAAC;IACH;EACF,CAAC,CAAC;AACJ;AAEA,SAASN,qBAAqBA,CAACvB,OAAO,EAAE;EACtC,IAAIvB,iBAAiB,GAAGuB,OAAO,CAACvB,iBAAiB;IAC7Cf,gBAAgB,GAAGsC,OAAO,CAACtC,gBAAgB;IAC3C2D,aAAa,GAAGrB,OAAO,CAACqB,aAAa;EACzC,IAAIjD,KAAK,GAAGiD,aAAa,CAACjD,KAAK;EAC/B,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAOA,KAAK;EAC3C,IAAIA,KAAK,KAAK,MAAM,EAAE,OAAOK,iBAAiB;EAC9C,OAAOd,QAAQ,CAACS,KAAK,CAAC,GAAG,GAAG,GAAGV,gBAAgB;AACjD;AAEA,SAASuD,qBAAqBA,CAACjB,OAAO,EAAE;EACtC,OAAOA,OAAO,CAACqB,aAAa,CAACL,KAAK;AACpC;AAEA,SAASxG,YAAYA,CAACwF,OAAO,EAAE;EAC7B,IAAIhB,eAAe,GAAGgB,OAAO,CAAChB,eAAe;IACzC2B,cAAc,GAAGX,OAAO,CAACW,cAAc;IACvCC,cAAc,GAAGZ,OAAO,CAACY,cAAc;IACvCC,MAAM,GAAGb,OAAO,CAACa,MAAM;EAC3B,IAAIM,IAAI,GAAGgB,UAAU,CAACnC,OAAO,CAAC;EAC9B,OAAOhB,eAAe,CAACzC,GAAG,CAAC,UAAU6F,GAAG,EAAErJ,CAAC,EAAE;IAC3C,OAAO;MACLoI,IAAI,EAAEA,IAAI;MACV/F,KAAK,EAAEyF,MAAM;MACbF,cAAc,EAAEA,cAAc;MAC9BC,cAAc,EAAEA,cAAc;MAC9BM,KAAK,EAAEmB,WAAW,CAACrC,OAAO,EAAEjH,CAAC,CAAC;MAC9BiI,KAAK,EAAEsB,WAAW,CAACtC,OAAO,EAAEjH,CAAC;IAC/B,CAAC;EACH,CAAC,CAAC;AACJ;AAEA,SAASoJ,UAAUA,CAACnC,OAAO,EAAE;EAC3B,IAAIuC,SAAS,GAAGvC,OAAO,CAACuC,SAAS;EACjC,IAAIA,SAAS,KAAK,aAAa,IAAIA,SAAS,KAAK,cAAc,EAAE,OAAO,UAAU;EAClF,OAAO,MAAM;AACf;AAEA,SAASF,WAAWA,CAACrC,OAAO,EAAEjH,CAAC,EAAE;EAC/B,IAAIwJ,SAAS,GAAGvC,OAAO,CAACuC,SAAS;EAEjC,IAAIA,SAAS,KAAK,aAAa,EAAE;IAC/B,OAAOC,mBAAmB,CAACxC,OAAO,EAAEjH,CAAC,CAAC;EACxC,CAAC,MAAM,IAAIwJ,SAAS,KAAK,cAAc,EAAE;IACvC,OAAOE,oBAAoB,CAACzC,OAAO,EAAEjH,CAAC,CAAC;EACzC,CAAC,MAAM;IACL,OAAO2J,iBAAiB,CAAC1C,OAAO,EAAEjH,CAAC,CAAC;EACtC;AACF;AAEA,SAASyJ,mBAAmBA,CAACxC,OAAO,EAAEjH,CAAC,EAAE;EACvC,IAAI+G,eAAe,GAAGE,OAAO,CAACF,eAAe;IACzCd,eAAe,GAAGgB,OAAO,CAAChB,eAAe;IACzCnB,QAAQ,GAAGmC,OAAO,CAACnC,QAAQ;IAC3B8E,aAAa,GAAG3C,OAAO,CAAC2C,aAAa;EAEzC,IAAIC,kBAAkB,GAAG,CAAC,CAAC,EAAEjL,eAAe,CAAC,SAAS,CAAC,EAAEmI,eAAe,CAAC/G,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3E6I,KAAK,GAAGgB,kBAAkB,CAAC,CAAC,CAAC;IAC7Bf,GAAG,GAAGe,kBAAkB,CAAC,CAAC,CAAC;EAE/B,IAAIC,YAAY,GAAG7D,eAAe,CAACjG,CAAC,CAAC;EACrC,IAAI+J,SAAS,GAAGjF,QAAQ,GAAG,CAAC;EAC5B,IAAIlC,SAAS,GAAGqE,OAAO,CAACrE,SAAS,CAACR,IAAI;EACtC,IAAI4H,MAAM,GAAG,EAAE;EAEf,IAAIpH,SAAS,KAAK,GAAG,EAAE;IACrBoH,MAAM,CAAC,CAAC,CAAC,GAAG,CAAClB,GAAG,EAAEgB,YAAY,GAAGC,SAAS,CAAC;IAC3CC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAClB,GAAG,EAAEgB,YAAY,GAAGC,SAAS,CAAC;IAC3CC,MAAM,CAAC,CAAC,CAAC,GAAG,CAACnB,KAAK,EAAEiB,YAAY,GAAGC,SAAS,CAAC;IAC7CC,MAAM,CAAC,CAAC,CAAC,GAAG,CAACnB,KAAK,GAAGe,aAAa,EAAEE,YAAY,GAAGC,SAAS,CAAC;IAC7D,IAAIjB,GAAG,GAAGD,KAAK,GAAGe,aAAa,EAAEI,MAAM,CAAC1C,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;EACtD,CAAC,MAAM;IACL0C,MAAM,CAAC,CAAC,CAAC,GAAG,CAACF,YAAY,GAAGC,SAAS,EAAEjB,GAAG,CAAC;IAC3CkB,MAAM,CAAC,CAAC,CAAC,GAAG,CAACF,YAAY,GAAGC,SAAS,EAAEjB,GAAG,CAAC;IAC3CkB,MAAM,CAAC,CAAC,CAAC,GAAG,CAACF,YAAY,GAAGC,SAAS,EAAElB,KAAK,CAAC;IAC7CmB,MAAM,CAAC,CAAC,CAAC,GAAG,CAACF,YAAY,GAAGC,SAAS,EAAElB,KAAK,GAAGe,aAAa,CAAC;IAC7D,IAAIf,KAAK,GAAGC,GAAG,GAAGc,aAAa,EAAEI,MAAM,CAAC1C,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;EACtD;EAEA,OAAO;IACL0C,MAAM,EAAEA,MAAM;IACdC,KAAK,EAAE;EACT,CAAC;AACH;AAEA,SAASP,oBAAoBA,CAACzC,OAAO,EAAEjH,CAAC,EAAE;EACxC,IAAI+G,eAAe,GAAGE,OAAO,CAACF,eAAe;IACzCd,eAAe,GAAGgB,OAAO,CAAChB,eAAe;IACzCnB,QAAQ,GAAGmC,OAAO,CAACnC,QAAQ;IAC3B8E,aAAa,GAAG3C,OAAO,CAAC2C,aAAa;EAEzC,IAAIM,mBAAmB,GAAG,CAAC,CAAC,EAAEtL,eAAe,CAAC,SAAS,CAAC,EAAEmI,eAAe,CAAC/G,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5E6I,KAAK,GAAGqB,mBAAmB,CAAC,CAAC,CAAC;IAC9BpB,GAAG,GAAGoB,mBAAmB,CAAC,CAAC,CAAC;EAEhC,IAAIJ,YAAY,GAAG7D,eAAe,CAACjG,CAAC,CAAC;EACrC,IAAI+J,SAAS,GAAGjF,QAAQ,GAAG,CAAC;EAC5B,IAAIlC,SAAS,GAAGqE,OAAO,CAACrE,SAAS,CAACR,IAAI;EACtC,IAAI4H,MAAM,GAAG,EAAE;EAEf,IAAIpH,SAAS,KAAK,GAAG,EAAE;IACrBoH,MAAM,CAAC,CAAC,CAAC,GAAG,CAAClB,GAAG,EAAEgB,YAAY,GAAGC,SAAS,CAAC;IAC3CC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAClB,GAAG,EAAEgB,YAAY,GAAGC,SAAS,CAAC;IAC3CC,MAAM,CAAC,CAAC,CAAC,GAAG,CAACnB,KAAK,EAAEiB,YAAY,GAAGC,SAAS,CAAC;IAC7CC,MAAM,CAAC,CAAC,CAAC,GAAG,CAACnB,KAAK,GAAGe,aAAa,EAAEE,YAAY,GAAGC,SAAS,CAAC;IAC7D,IAAIjB,GAAG,GAAGD,KAAK,GAAGe,aAAa,EAAEI,MAAM,CAAC1C,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;EACtD,CAAC,MAAM;IACL0C,MAAM,CAAC,CAAC,CAAC,GAAG,CAACF,YAAY,GAAGC,SAAS,EAAEjB,GAAG,CAAC;IAC3CkB,MAAM,CAAC,CAAC,CAAC,GAAG,CAACF,YAAY,GAAGC,SAAS,EAAEjB,GAAG,CAAC;IAC3CkB,MAAM,CAAC,CAAC,CAAC,GAAG,CAACF,YAAY,GAAGC,SAAS,EAAElB,KAAK,CAAC;IAC7CmB,MAAM,CAAC,CAAC,CAAC,GAAG,CAACF,YAAY,GAAGC,SAAS,EAAElB,KAAK,GAAGe,aAAa,CAAC;IAC7D,IAAIf,KAAK,GAAGC,GAAG,GAAGc,aAAa,EAAEI,MAAM,CAAC1C,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;EACtD;EAEA,OAAO;IACL0C,MAAM,EAAEA,MAAM;IACdC,KAAK,EAAE;EACT,CAAC;AACH;AAEA,SAASN,iBAAiBA,CAAC1C,OAAO,EAAEjH,CAAC,EAAE;EACrC,IAAI+G,eAAe,GAAGE,OAAO,CAACF,eAAe;IACzCd,eAAe,GAAGgB,OAAO,CAAChB,eAAe;IACzCnB,QAAQ,GAAGmC,OAAO,CAACnC,QAAQ;EAE/B,IAAIqF,mBAAmB,GAAG,CAAC,CAAC,EAAEvL,eAAe,CAAC,SAAS,CAAC,EAAEmI,eAAe,CAAC/G,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5E6I,KAAK,GAAGsB,mBAAmB,CAAC,CAAC,CAAC;IAC9BrB,GAAG,GAAGqB,mBAAmB,CAAC,CAAC,CAAC;EAEhC,IAAIL,YAAY,GAAG7D,eAAe,CAACjG,CAAC,CAAC;EACrC,IAAI4C,SAAS,GAAGqE,OAAO,CAACrE,SAAS,CAACR,IAAI;EACtC,IAAI+F,KAAK,GAAG,CAAC,CAAC;EAEd,IAAIvF,SAAS,KAAK,GAAG,EAAE;IACrBuF,KAAK,CAACa,CAAC,GAAGH,KAAK;IACfV,KAAK,CAACc,CAAC,GAAGa,YAAY,GAAGhF,QAAQ,GAAG,CAAC;IACrCqD,KAAK,CAACe,CAAC,GAAGJ,GAAG,GAAGD,KAAK;IACrBV,KAAK,CAACgB,CAAC,GAAGrE,QAAQ;EACpB,CAAC,MAAM;IACLqD,KAAK,CAACa,CAAC,GAAGc,YAAY,GAAGhF,QAAQ,GAAG,CAAC;IACrCqD,KAAK,CAACc,CAAC,GAAGH,GAAG;IACbX,KAAK,CAACe,CAAC,GAAGpE,QAAQ;IAClBqD,KAAK,CAACgB,CAAC,GAAGN,KAAK,GAAGC,GAAG;EACvB;EAEA,OAAOX,KAAK;AACd;AAEA,SAASoB,WAAWA,CAACtC,OAAO,EAAEjH,CAAC,EAAE;EAC/B,IAAIoK,QAAQ,GAAGnD,OAAO,CAACmD,QAAQ;IAC3BC,QAAQ,GAAGpD,OAAO,CAACoD,QAAQ;IAC3BC,KAAK,GAAGrD,OAAO,CAACqD,KAAK;IACrBC,gBAAgB,GAAGtD,OAAO,CAACsD,gBAAgB;IAC3CC,iBAAiB,GAAGvD,OAAO,CAACuD,iBAAiB;EACjD,IAAIC,SAAS,GAAG,CAACL,QAAQ,CAACM,IAAI,IAAIJ,KAAK,CAAC;EACxC,IAAIK,aAAa,GAAG,CAAC,CAAC,EAAE1L,MAAM,CAAC2L,SAAS,EAAEH,SAAS,EAAEJ,QAAQ,CAACC,KAAK,CAAC;EAEpE,IAAIC,gBAAgB,EAAE;IACpB,IAAIM,QAAQ,GAAGL,iBAAiB,CAACxK,CAAC,GAAGwK,iBAAiB,CAACtK,MAAM,CAAC;IAC9DyK,aAAa,GAAGE,QAAQ,YAAYC,KAAK,GAAGD,QAAQ,GAAG,CAACA,QAAQ,CAAC;EACnE;EAEA,IAAIF,aAAa,CAACzK,MAAM,KAAK,CAAC,EAAEyK,aAAa,CAAC/K,IAAI,CAAC+K,aAAa,CAAC,CAAC,CAAC,CAAC;EACpE,IAAII,cAAc,GAAGC,iBAAiB,CAAC/D,OAAO,EAAEjH,CAAC,CAAC;EAClD,OAAO,CAAC,CAAC,EAAEf,MAAM,CAAC2L,SAAS,EAAE;IAC3BD,aAAa,EAAEA,aAAa;IAC5BI,cAAc,EAAEA,cAAc;IAC9BE,YAAY,EAAE,QAAQ;IACtBC,YAAY,EAAE;EAChB,CAAC,EAAEd,QAAQ,CAAC;AACd;AAEA,SAASY,iBAAiBA,CAAC/D,OAAO,EAAEjH,CAAC,EAAE;EACrC,IAAI+G,eAAe,GAAGE,OAAO,CAACF,eAAe;IACzCd,eAAe,GAAGgB,OAAO,CAAChB,eAAe;IACzCtD,IAAI,GAAGsE,OAAO,CAACtE,IAAI;EACvB,IAAIwI,kBAAkB,GAAGlE,OAAO,CAACrE,SAAS;IACtC8D,YAAY,GAAGyE,kBAAkB,CAACzE,YAAY;IAC9CtE,IAAI,GAAG+I,kBAAkB,CAAC/I,IAAI;EAElC,IAAIgJ,mBAAmB,GAAG,CAAC,CAAC,EAAExM,eAAe,CAAC,SAAS,CAAC,EAAEmI,eAAe,CAAC/G,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5E6I,KAAK,GAAGuC,mBAAmB,CAAC,CAAC,CAAC;IAC9BtC,GAAG,GAAGsC,mBAAmB,CAAC,CAAC,CAAC;EAEhC,IAAItB,YAAY,GAAG7D,eAAe,CAACjG,CAAC,CAAC;EACrC,IAAIxB,KAAK,GAAGmE,IAAI,CAAC3C,CAAC,CAAC;EAEnB,IAAIqL,aAAa,GAAG,CAAC,CAAC,EAAEzM,eAAe,CAAC,SAAS,CAAC,EAAE8H,YAAY,EAAE,CAAC,CAAC;IAChE4E,SAAS,GAAGD,aAAa,CAAC,CAAC,CAAC;IAC5BE,OAAO,GAAGF,aAAa,CAAC,CAAC,CAAC;EAE9B,IAAI7I,cAAc,GAAGJ,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;EACzC,IAAIyE,MAAM,GAAGiC,GAAG;EAEhB,IAAI,CAAC7B,OAAO,CAACoD,QAAQ,CAACmB,KAAK,EAAE;IAC3B3E,MAAM,GAAGrI,KAAK,GAAG,CAAC,GAAG8M,SAAS,CAAC9I,cAAc,CAAC,GAAG+I,OAAO,CAAC/I,cAAc,CAAC;EAC1E;EAEA,IAAIJ,IAAI,KAAK,GAAG,EAAE;IAChB,OAAO,CAAC0H,YAAY,EAAEjD,MAAM,EAAEiD,YAAY,EAAEjB,KAAK,CAAC;EACpD,CAAC,MAAM;IACL,OAAO,CAAChC,MAAM,EAAEiD,YAAY,EAAEjB,KAAK,EAAEiB,YAAY,CAAC;EACpD;AACF;AAEA,SAASnI,iBAAiBA,CAACsF,OAAO,EAAE;EAClC,IAAIwE,OAAO,GAAGhK,YAAY,CAACwF,OAAO,CAAC;EACnC,IAAIuC,SAAS,GAAGvC,OAAO,CAACuC,SAAS;EACjCiC,OAAO,CAACrL,OAAO,CAAC,UAAUsL,MAAM,EAAE;IAChC,IAAIvD,KAAK,GAAGuD,MAAM,CAACvD,KAAK;IAExB,IAAIqB,SAAS,KAAK,aAAa,EAAE;MAC/BrB,KAAK,GAAGwD,wBAAwB,CAACxD,KAAK,EAAElB,OAAO,CAAC;IAClD,CAAC,MAAM,IAAIuC,SAAS,KAAK,cAAc,EAAE;MACvCrB,KAAK,GAAGyD,yBAAyB,CAACzD,KAAK,EAAElB,OAAO,CAAC;IACnD,CAAC,MAAM;MACLkB,KAAK,GAAG0D,sBAAsB,CAAC1D,KAAK,EAAElB,OAAO,CAAC;IAChD;IAEAyE,MAAM,CAACvD,KAAK,GAAGA,KAAK;EACtB,CAAC,CAAC;EACF,OAAOsD,OAAO;AAChB;AAEA,SAASE,wBAAwBA,CAACxD,KAAK,EAAElB,OAAO,EAAE;EAChD,IAAI7E,IAAI,GAAG6E,OAAO,CAACrE,SAAS,CAACR,IAAI;EACjC+F,KAAK,GAAG,CAAC,CAAC,EAAEnJ,KAAK,CAAC8M,SAAS,EAAE3D,KAAK,CAAC;EACnC,IAAI4D,MAAM,GAAG5D,KAAK;IACd6B,MAAM,GAAG+B,MAAM,CAAC/B,MAAM;EAC1B,IAAI3H,KAAK,GAAGD,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;EAChC,IAAIyG,KAAK,GAAGmB,MAAM,CAAC,CAAC,CAAC,CAAC3H,KAAK,CAAC;EAC5B2H,MAAM,CAAC5J,OAAO,CAAC,UAAU4L,KAAK,EAAE;IAC9B,OAAOA,KAAK,CAAC3J,KAAK,CAAC,GAAGwG,KAAK;EAC7B,CAAC,CAAC;EACF,OAAOV,KAAK;AACd;AAEA,SAASyD,yBAAyBA,CAACzD,KAAK,EAAElB,OAAO,EAAE;EACjD,IAAI7E,IAAI,GAAG6E,OAAO,CAACrE,SAAS,CAACR,IAAI;EACjC+F,KAAK,GAAG,CAAC,CAAC,EAAEnJ,KAAK,CAAC8M,SAAS,EAAE3D,KAAK,CAAC;EACnC,IAAI8D,OAAO,GAAG9D,KAAK;IACf6B,MAAM,GAAGiC,OAAO,CAACjC,MAAM;EAC3B,IAAI3H,KAAK,GAAGD,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;EAChC,IAAIyG,KAAK,GAAGmB,MAAM,CAAC,CAAC,CAAC,CAAC3H,KAAK,CAAC;EAC5B2H,MAAM,CAAC5J,OAAO,CAAC,UAAU4L,KAAK,EAAE;IAC9B,OAAOA,KAAK,CAAC3J,KAAK,CAAC,GAAGwG,KAAK;EAC7B,CAAC,CAAC;EACF,OAAOV,KAAK;AACd;AAEA,SAAS0D,sBAAsBA,CAAC1D,KAAK,EAAElB,OAAO,EAAE;EAC9C,IAAI7E,IAAI,GAAG6E,OAAO,CAACrE,SAAS,CAACR,IAAI;EACjC,IAAI4G,CAAC,GAAGb,KAAK,CAACa,CAAC;IACXC,CAAC,GAAGd,KAAK,CAACc,CAAC;IACXC,CAAC,GAAGf,KAAK,CAACe,CAAC;IACXC,CAAC,GAAGhB,KAAK,CAACgB,CAAC;EAEf,IAAI/G,IAAI,KAAK,GAAG,EAAE;IAChB8G,CAAC,GAAG,CAAC;EACP,CAAC,MAAM;IACLD,CAAC,GAAGA,CAAC,GAAGE,CAAC;IACTA,CAAC,GAAG,CAAC;EACP;EAEA,OAAO;IACLH,CAAC,EAAEA,CAAC;IACJC,CAAC,EAAEA,CAAC;IACJC,CAAC,EAAEA,CAAC;IACJC,CAAC,EAAEA;EACL,CAAC;AACH;AAEA,SAAStH,eAAeA,CAACqK,MAAM,EAAEjF,OAAO,EAAEjH,CAAC,EAAEmM,OAAO,EAAE;EACpD,IAAIC,MAAM,GAAGD,OAAO,CAAC3L,KAAK,CAAC4L,MAAM;EACjC,IAAIhE,IAAI,GAAGgB,UAAU,CAACnC,OAAO,CAAC;EAE9B,IAAIiF,MAAM,CAAClM,CAAC,CAAC,IAAIkM,MAAM,CAAClM,CAAC,CAAC,CAAC,CAAC,CAAC,CAACoI,IAAI,KAAKA,IAAI,EAAE;IAC3C8D,MAAM,CAAClM,CAAC,CAAC,CAACI,OAAO,CAAC,UAAUiM,CAAC,EAAE;MAC7B,OAAOD,MAAM,CAACE,QAAQ,CAACD,CAAC,CAAC;IAC3B,CAAC,CAAC;IACFH,MAAM,CAAClM,CAAC,CAAC,GAAG,IAAI;EAClB;AACF;AAEA,SAAS8B,cAAcA,CAACmF,OAAO,EAAE;EAC/B,IAAIW,cAAc,GAAGX,OAAO,CAACW,cAAc;IACvCC,cAAc,GAAGZ,OAAO,CAACY,cAAc;IACvCC,MAAM,GAAGb,OAAO,CAACa,MAAM;EAC3B,IAAIC,MAAM,GAAGwE,cAAc,CAACtF,OAAO,CAAC;EACpC,IAAIgB,KAAK,GAAGuE,aAAa,CAACvF,OAAO,CAAC;EAClC,OAAOc,MAAM,CAACvE,GAAG,CAAC,UAAU2E,KAAK,EAAE;IACjC,OAAO;MACLC,IAAI,EAAE,MAAM;MACZ/F,KAAK,EAAEyF,MAAM;MACbO,OAAO,EAAEpB,OAAO,CAACwF,KAAK,CAAClE,IAAI;MAC3BX,cAAc,EAAEA,cAAc;MAC9BC,cAAc,EAAEA,cAAc;MAC9BM,KAAK,EAAEA,KAAK;MACZF,KAAK,EAAEA;IACT,CAAC;EACH,CAAC,CAAC;AACJ;AAEA,SAASsE,cAAcA,CAACtF,OAAO,EAAE;EAC/B,IAAIyF,QAAQ,GAAGC,kBAAkB,CAAC1F,OAAO,CAAC;EAC1C,IAAI2F,QAAQ,GAAGC,iBAAiB,CAAC5F,OAAO,CAAC;EACzC,OAAO2F,QAAQ,CAACpJ,GAAG,CAAC,UAAUmE,GAAG,EAAE3H,CAAC,EAAE;IACpC,OAAO;MACL4M,QAAQ,EAAEjF,GAAG;MACbmF,OAAO,EAAEJ,QAAQ,CAAC1M,CAAC;IACrB,CAAC;EACH,CAAC,CAAC;AACJ;AAEA,SAAS2M,kBAAkBA,CAAC1F,OAAO,EAAE;EACnC,IAAItE,IAAI,GAAGsE,OAAO,CAACtE,IAAI;IACnB8J,KAAK,GAAGxF,OAAO,CAACwF,KAAK;EACzB,IAAIM,SAAS,GAAGN,KAAK,CAACM,SAAS;EAC/BpK,IAAI,GAAGA,IAAI,CAACnD,MAAM,CAAC,UAAU2H,CAAC,EAAE;IAC9B,OAAO,OAAOA,CAAC,KAAK,QAAQ;EAC9B,CAAC,CAAC,CAAC3D,GAAG,CAAC,UAAU2D,CAAC,EAAE;IAClB,OAAOA,CAAC,CAAC6F,QAAQ,CAAC,CAAC;EACrB,CAAC,CAAC;EACF,IAAI,CAACD,SAAS,EAAE,OAAOpK,IAAI;EAC3B,IAAIsK,IAAI,GAAG,CAAC,CAAC,EAAEvO,QAAQ,CAAC,SAAS,CAAC,EAAEqO,SAAS,CAAC;EAC9C,IAAIE,IAAI,KAAK,QAAQ,EAAE,OAAOtK,IAAI,CAACa,GAAG,CAAC,UAAU2D,CAAC,EAAE;IAClD,OAAO4F,SAAS,CAACG,OAAO,CAAC,SAAS,EAAE/F,CAAC,CAAC;EACxC,CAAC,CAAC;EACF,IAAI8F,IAAI,KAAK,UAAU,EAAE,OAAOtK,IAAI,CAACa,GAAG,CAAC,UAAU2D,CAAC,EAAEnH,CAAC,EAAE;IACvD,OAAO+M,SAAS,CAAC;MACfvO,KAAK,EAAE2I,CAAC;MACR9E,KAAK,EAAErC;IACT,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAO2C,IAAI;AACb;AAEA,SAASkK,iBAAiBA,CAAC5F,OAAO,EAAE;EAClC,IAAIwF,KAAK,GAAGxF,OAAO,CAACwF,KAAK;IACrB1F,eAAe,GAAGE,OAAO,CAACF,eAAe;IACzCd,eAAe,GAAGgB,OAAO,CAAChB,eAAe;EAC7C,IAAI2G,QAAQ,GAAGH,KAAK,CAACG,QAAQ;IACzBO,MAAM,GAAGV,KAAK,CAACU,MAAM;EACzB,IAAI/K,IAAI,GAAG6E,OAAO,CAACrE,SAAS,CAACR,IAAI;EACjC,OAAO2E,eAAe,CAACvD,GAAG,CAAC,UAAU4J,MAAM,EAAEpN,CAAC,EAAE;IAC9C,IAAIqN,MAAM,GAAG,CAAC,CAAC,EAAEzO,eAAe,CAAC,SAAS,CAAC,EAAEwO,MAAM,EAAE,CAAC,CAAC;MACnDvE,KAAK,GAAGwE,MAAM,CAAC,CAAC,CAAC;MACjBvE,GAAG,GAAGuE,MAAM,CAAC,CAAC,CAAC;IAEnB,IAAIvD,YAAY,GAAG7D,eAAe,CAACjG,CAAC,CAAC;IACrC,IAAI2H,GAAG,GAAG,CAACmB,GAAG,EAAEgB,YAAY,CAAC;IAE7B,IAAI8C,QAAQ,KAAK,QAAQ,EAAE;MACzBjF,GAAG,GAAG,CAACkB,KAAK,EAAEiB,YAAY,CAAC;IAC7B;IAEA,IAAI8C,QAAQ,KAAK,QAAQ,EAAE;MACzBjF,GAAG,GAAG,CAAC,CAACkB,KAAK,GAAGC,GAAG,IAAI,CAAC,EAAEgB,YAAY,CAAC;IACzC;IAEA,IAAI1H,IAAI,KAAK,GAAG,EAAEuF,GAAG,CAACnG,OAAO,CAAC,CAAC;IAC/B,OAAO8L,gBAAgB,CAAC3F,GAAG,EAAEwF,MAAM,CAAC;EACtC,CAAC,CAAC;AACJ;AAEA,SAASG,gBAAgBA,CAACC,MAAM,EAAEC,MAAM,EAAE;EACxC,IAAIC,MAAM,GAAG,CAAC,CAAC,EAAE7O,eAAe,CAAC,SAAS,CAAC,EAAE2O,MAAM,EAAE,CAAC,CAAC;IACnDvE,CAAC,GAAGyE,MAAM,CAAC,CAAC,CAAC;IACbxE,CAAC,GAAGwE,MAAM,CAAC,CAAC,CAAC;EAEjB,IAAIC,MAAM,GAAG,CAAC,CAAC,EAAE9O,eAAe,CAAC,SAAS,CAAC,EAAE4O,MAAM,EAAE,CAAC,CAAC;IACnDG,EAAE,GAAGD,MAAM,CAAC,CAAC,CAAC;IACdE,EAAE,GAAGF,MAAM,CAAC,CAAC,CAAC;EAElB,OAAO,CAAC1E,CAAC,GAAG2E,EAAE,EAAE1E,CAAC,GAAG2E,EAAE,CAAC;AACzB;AAEA,SAASpB,aAAaA,CAACvF,OAAO,EAAE;EAC9B,IAAIqD,KAAK,GAAGrD,OAAO,CAACqD,KAAK;IACrBrC,KAAK,GAAGhB,OAAO,CAACwF,KAAK,CAACxE,KAAK;IAC3B4F,EAAE,GAAG5G,OAAO,CAACoD,QAAQ,CAACC,KAAK;EAC/B,IAAIuD,EAAE,CAAC3N,MAAM,EAAEoK,KAAK,GAAGuD,EAAE,CAAC,CAAC,CAAC;EAC5B5F,KAAK,GAAG,CAAC,CAAC,EAAEhJ,MAAM,CAAC2L,SAAS,EAAE;IAC5BF,IAAI,EAAEJ;EACR,CAAC,EAAErC,KAAK,CAAC;EACT,OAAOA,KAAK;AACd","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}