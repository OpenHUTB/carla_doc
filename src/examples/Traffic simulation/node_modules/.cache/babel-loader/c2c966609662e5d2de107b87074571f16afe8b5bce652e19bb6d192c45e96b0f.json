{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _style = _interopRequireDefault(require(\"./style.class\"));\nvar _transition = _interopRequireDefault(require(\"@jiaminghi/transition\"));\nvar _util = require(\"../plugin/util\");\n\n/**\r\n * @description Class Graph\r\n * @param {Object} graph  Graph default configuration\r\n * @param {Object} config Graph config\r\n * @return {Graph} Instance of Graph\r\n */\nvar Graph = function Graph(graph, config) {\n  (0, _classCallCheck2[\"default\"])(this, Graph);\n  config = (0, _util.deepClone)(config, true);\n  var defaultConfig = {\n    /**\r\n     * @description Weather to render graph\r\n     * @type {Boolean}\r\n     * @default visible = true\r\n     */\n    visible: true,\n    /**\r\n     * @description Whether to enable drag\r\n     * @type {Boolean}\r\n     * @default drag = false\r\n     */\n    drag: false,\n    /**\r\n     * @description Whether to enable hover\r\n     * @type {Boolean}\r\n     * @default hover = false\r\n     */\n    hover: false,\n    /**\r\n     * @description Graph rendering index\r\n     *  Give priority to index high graph in rendering\r\n     * @type {Number}\r\n     * @example index = 1\r\n     */\n    index: 1,\n    /**\r\n     * @description Animation delay time(ms)\r\n     * @type {Number}\r\n     * @default animationDelay = 0\r\n     */\n    animationDelay: 0,\n    /**\r\n     * @description Number of animation frames\r\n     * @type {Number}\r\n     * @default animationFrame = 30\r\n     */\n    animationFrame: 30,\n    /**\r\n     * @description Animation dynamic curve (Supported by transition)\r\n     * @type {String}\r\n     * @default animationCurve = 'linear'\r\n     * @link https://github.com/jiaming743/Transition\r\n     */\n    animationCurve: 'linear',\n    /**\r\n     * @description Weather to pause graph animation\r\n     * @type {Boolean}\r\n     * @default animationPause = false\r\n     */\n    animationPause: false,\n    /**\r\n     * @description Rectangular hover detection zone\r\n     *  Use this method for hover detection first\r\n     * @type {Null|Array}\r\n     * @default hoverRect = null\r\n     * @example hoverRect = [0, 0, 100, 100] // [Rect start x, y, Rect width, height]\r\n     */\n    hoverRect: null,\n    /**\r\n     * @description Mouse enter event handler\r\n     * @type {Function|Null}\r\n     * @default mouseEnter = null\r\n     */\n    mouseEnter: null,\n    /**\r\n     * @description Mouse outer event handler\r\n     * @type {Function|Null}\r\n     * @default mouseOuter = null\r\n     */\n    mouseOuter: null,\n    /**\r\n     * @description Mouse click event handler\r\n     * @type {Function|Null}\r\n     * @default click = null\r\n     */\n    click: null\n  };\n  var configAbleNot = {\n    status: 'static',\n    animationRoot: [],\n    animationKeys: [],\n    animationFrameState: [],\n    cache: {}\n  };\n  if (!config.shape) config.shape = {};\n  if (!config.style) config.style = {};\n  var shape = Object.assign({}, graph.shape, config.shape);\n  Object.assign(defaultConfig, config, configAbleNot);\n  Object.assign(this, graph, defaultConfig);\n  this.shape = shape;\n  this.style = new _style[\"default\"](config.style);\n  this.addedProcessor();\n};\n/**\r\n * @description Processor of added\r\n * @return {Undefined} Void\r\n */\n\nexports[\"default\"] = Graph;\nGraph.prototype.addedProcessor = function () {\n  if (typeof this.setGraphCenter === 'function') this.setGraphCenter(null, this); // The life cycle 'added\"\n\n  if (typeof this.added === 'function') this.added(this);\n};\n/**\r\n * @description Processor of draw\r\n * @param {CRender} render Instance of CRender\r\n * @param {Graph} graph    Instance of Graph\r\n * @return {Undefined} Void\r\n */\n\nGraph.prototype.drawProcessor = function (render, graph) {\n  var ctx = render.ctx;\n  graph.style.initStyle(ctx);\n  if (typeof this.beforeDraw === 'function') this.beforeDraw(this, render);\n  graph.draw(render, graph);\n  if (typeof this.drawed === 'function') this.drawed(this, render);\n  graph.style.restoreTransform(ctx);\n};\n/**\r\n * @description Processor of hover check\r\n * @param {Array} position Mouse Position\r\n * @param {Graph} graph    Instance of Graph\r\n * @return {Boolean} Result of hover check\r\n */\n\nGraph.prototype.hoverCheckProcessor = function (position, _ref) {\n  var hoverRect = _ref.hoverRect,\n    style = _ref.style,\n    hoverCheck = _ref.hoverCheck;\n  var graphCenter = style.graphCenter,\n    rotate = style.rotate,\n    scale = style.scale,\n    translate = style.translate;\n  if (graphCenter) {\n    if (rotate) position = (0, _util.getRotatePointPos)(-rotate, position, graphCenter);\n    if (scale) position = (0, _util.getScalePointPos)(scale.map(function (s) {\n      return 1 / s;\n    }), position, graphCenter);\n    if (translate) position = (0, _util.getTranslatePointPos)(translate.map(function (v) {\n      return v * -1;\n    }), position);\n  }\n  if (hoverRect) return _util.checkPointIsInRect.apply(void 0, [position].concat((0, _toConsumableArray2[\"default\"])(hoverRect)));\n  return hoverCheck(position, this);\n};\n/**\r\n * @description Processor of move\r\n * @param {Event} e Mouse movement event\r\n * @return {Undefined} Void\r\n */\n\nGraph.prototype.moveProcessor = function (e) {\n  this.move(e, this);\n  if (typeof this.beforeMove === 'function') this.beforeMove(e, this);\n  if (typeof this.setGraphCenter === 'function') this.setGraphCenter(e, this);\n  if (typeof this.moved === 'function') this.moved(e, this);\n};\n/**\r\n * @description Update graph state\r\n * @param {String} attrName Updated attribute name\r\n * @param {Any} change      Updated value\r\n * @return {Undefined} Void\r\n */\n\nGraph.prototype.attr = function (attrName) {\n  var change = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  if (!attrName || change === undefined) return false;\n  var isObject = (0, _typeof2[\"default\"])(this[attrName]) === 'object';\n  if (isObject) change = (0, _util.deepClone)(change, true);\n  var render = this.render;\n  if (attrName === 'style') {\n    this.style.update(change);\n  } else if (isObject) {\n    Object.assign(this[attrName], change);\n  } else {\n    this[attrName] = change;\n  }\n  if (attrName === 'index') render.sortGraphsByIndex();\n  render.drawAllGraph();\n};\n/**\r\n * @description Update graphics state (with animation)\r\n *  Only shape and style attributes are supported\r\n * @param {String} attrName Updated attribute name\r\n * @param {Any} change      Updated value\r\n * @param {Boolean} wait    Whether to store the animation waiting\r\n *                          for the next animation request\r\n * @return {Promise} Animation Promise\r\n */\n\nGraph.prototype.animation = /*#__PURE__*/\nfunction () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee2(attrName, change) {\n    var wait,\n      changeRoot,\n      changeKeys,\n      beforeState,\n      animationFrame,\n      animationCurve,\n      animationDelay,\n      animationFrameState,\n      render,\n      _args2 = arguments;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            wait = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : false;\n            if (!(attrName !== 'shape' && attrName !== 'style')) {\n              _context2.next = 4;\n              break;\n            }\n            console.error('Only supported shape and style animation!');\n            return _context2.abrupt(\"return\");\n          case 4:\n            change = (0, _util.deepClone)(change, true);\n            if (attrName === 'style') this.style.colorProcessor(change);\n            changeRoot = this[attrName];\n            changeKeys = Object.keys(change);\n            beforeState = {};\n            changeKeys.forEach(function (key) {\n              return beforeState[key] = changeRoot[key];\n            });\n            animationFrame = this.animationFrame, animationCurve = this.animationCurve, animationDelay = this.animationDelay;\n            animationFrameState = (0, _transition[\"default\"])(animationCurve, beforeState, change, animationFrame, true);\n            this.animationRoot.push(changeRoot);\n            this.animationKeys.push(changeKeys);\n            this.animationFrameState.push(animationFrameState);\n            if (!wait) {\n              _context2.next = 17;\n              break;\n            }\n            return _context2.abrupt(\"return\");\n          case 17:\n            if (!(animationDelay > 0)) {\n              _context2.next = 20;\n              break;\n            }\n            _context2.next = 20;\n            return delay(animationDelay);\n          case 20:\n            render = this.render;\n            return _context2.abrupt(\"return\", new Promise( /*#__PURE__*/\n            function () {\n              var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/\n              _regenerator[\"default\"].mark(function _callee(resolve) {\n                return _regenerator[\"default\"].wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return render.launchAnimation();\n                      case 2:\n                        resolve();\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n              return function (_x3) {\n                return _ref3.apply(this, arguments);\n              };\n            }()));\n          case 22:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n/**\r\n * @description Extract the next frame of data from the animation queue\r\n *              and update the graph state\r\n * @return {Undefined} Void\r\n */\n\nGraph.prototype.turnNextAnimationFrame = function (timeStamp) {\n  var animationDelay = this.animationDelay,\n    animationRoot = this.animationRoot,\n    animationKeys = this.animationKeys,\n    animationFrameState = this.animationFrameState,\n    animationPause = this.animationPause;\n  if (animationPause) return;\n  if (Date.now() - timeStamp < animationDelay) return;\n  animationRoot.forEach(function (root, i) {\n    animationKeys[i].forEach(function (key) {\n      root[key] = animationFrameState[i][0][key];\n    });\n  });\n  animationFrameState.forEach(function (stateItem, i) {\n    stateItem.shift();\n    var noFrame = stateItem.length === 0;\n    if (noFrame) animationRoot[i] = null;\n    if (noFrame) animationKeys[i] = null;\n  });\n  this.animationFrameState = animationFrameState.filter(function (state) {\n    return state.length;\n  });\n  this.animationRoot = animationRoot.filter(function (root) {\n    return root;\n  });\n  this.animationKeys = animationKeys.filter(function (keys) {\n    return keys;\n  });\n};\n/**\r\n * @description Skip to the last frame of animation\r\n * @return {Undefined} Void\r\n */\n\nGraph.prototype.animationEnd = function () {\n  var animationFrameState = this.animationFrameState,\n    animationKeys = this.animationKeys,\n    animationRoot = this.animationRoot,\n    render = this.render;\n  animationRoot.forEach(function (root, i) {\n    var currentKeys = animationKeys[i];\n    var lastState = animationFrameState[i].pop();\n    currentKeys.forEach(function (key) {\n      return root[key] = lastState[key];\n    });\n  });\n  this.animationFrameState = [];\n  this.animationKeys = [];\n  this.animationRoot = [];\n  return render.drawAllGraph();\n};\n/**\r\n * @description Pause animation behavior\r\n * @return {Undefined} Void\r\n */\n\nGraph.prototype.pauseAnimation = function () {\n  this.attr('animationPause', true);\n};\n/**\r\n * @description Try animation behavior\r\n * @return {Undefined} Void\r\n */\n\nGraph.prototype.playAnimation = function () {\n  var render = this.render;\n  this.attr('animationPause', false);\n  return new Promise( /*#__PURE__*/\n  function () {\n    var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee3(resolve) {\n      return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return render.launchAnimation();\n            case 2:\n              resolve();\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n/**\r\n * @description Processor of delete\r\n * @param {CRender} render Instance of CRender\r\n * @return {Undefined} Void\r\n */\n\nGraph.prototype.delProcessor = function (render) {\n  var _this = this;\n  var graphs = render.graphs;\n  var index = graphs.findIndex(function (graph) {\n    return graph === _this;\n  });\n  if (index === -1) return;\n  if (typeof this.beforeDelete === 'function') this.beforeDelete(this);\n  graphs.splice(index, 1, null);\n  if (typeof this.deleted === 'function') this.deleted(this);\n};\n/**\r\n * @description Return a timed release Promise\r\n * @param {Number} time Release time\r\n * @return {Promise} A timed release Promise\r\n */\n\nfunction delay(time) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, time);\n  });\n}","map":{"version":3,"names":["require","_interopRequireDefault","Object","defineProperty","exports","value","_regenerator","_asyncToGenerator2","_typeof2","_toConsumableArray2","_classCallCheck2","_style","_transition","_util","Graph","graph","config","deepClone","defaultConfig","visible","drag","hover","index","animationDelay","animationFrame","animationCurve","animationPause","hoverRect","mouseEnter","mouseOuter","click","configAbleNot","status","animationRoot","animationKeys","animationFrameState","cache","shape","style","assign","addedProcessor","prototype","setGraphCenter","added","drawProcessor","render","ctx","initStyle","beforeDraw","draw","drawed","restoreTransform","hoverCheckProcessor","position","_ref","hoverCheck","graphCenter","rotate","scale","translate","getRotatePointPos","getScalePointPos","map","s","getTranslatePointPos","v","checkPointIsInRect","apply","concat","moveProcessor","e","move","beforeMove","moved","attr","attrName","change","arguments","length","undefined","isObject","update","sortGraphsByIndex","drawAllGraph","animation","_ref2","mark","_callee2","wait","changeRoot","changeKeys","beforeState","_args2","wrap","_callee2$","_context2","prev","next","console","error","abrupt","colorProcessor","keys","forEach","key","push","delay","Promise","_ref3","_callee","resolve","_callee$","_context","launchAnimation","stop","_x3","_x","_x2","turnNextAnimationFrame","timeStamp","Date","now","root","i","stateItem","shift","noFrame","filter","state","animationEnd","currentKeys","lastState","pop","pauseAnimation","playAnimation","_ref4","_callee3","_callee3$","_context3","_x4","delProcessor","_this","graphs","findIndex","beforeDelete","splice","deleted","time","setTimeout"],"sources":["D:/doc/workplace/vscode/Traffic simulation/node_modules/@jiaminghi/c-render/lib/class/graph.class.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _style = _interopRequireDefault(require(\"./style.class\"));\n\nvar _transition = _interopRequireDefault(require(\"@jiaminghi/transition\"));\n\nvar _util = require(\"../plugin/util\");\n\n/**\r\n * @description Class Graph\r\n * @param {Object} graph  Graph default configuration\r\n * @param {Object} config Graph config\r\n * @return {Graph} Instance of Graph\r\n */\nvar Graph = function Graph(graph, config) {\n  (0, _classCallCheck2[\"default\"])(this, Graph);\n  config = (0, _util.deepClone)(config, true);\n  var defaultConfig = {\n    /**\r\n     * @description Weather to render graph\r\n     * @type {Boolean}\r\n     * @default visible = true\r\n     */\n    visible: true,\n\n    /**\r\n     * @description Whether to enable drag\r\n     * @type {Boolean}\r\n     * @default drag = false\r\n     */\n    drag: false,\n\n    /**\r\n     * @description Whether to enable hover\r\n     * @type {Boolean}\r\n     * @default hover = false\r\n     */\n    hover: false,\n\n    /**\r\n     * @description Graph rendering index\r\n     *  Give priority to index high graph in rendering\r\n     * @type {Number}\r\n     * @example index = 1\r\n     */\n    index: 1,\n\n    /**\r\n     * @description Animation delay time(ms)\r\n     * @type {Number}\r\n     * @default animationDelay = 0\r\n     */\n    animationDelay: 0,\n\n    /**\r\n     * @description Number of animation frames\r\n     * @type {Number}\r\n     * @default animationFrame = 30\r\n     */\n    animationFrame: 30,\n\n    /**\r\n     * @description Animation dynamic curve (Supported by transition)\r\n     * @type {String}\r\n     * @default animationCurve = 'linear'\r\n     * @link https://github.com/jiaming743/Transition\r\n     */\n    animationCurve: 'linear',\n\n    /**\r\n     * @description Weather to pause graph animation\r\n     * @type {Boolean}\r\n     * @default animationPause = false\r\n     */\n    animationPause: false,\n\n    /**\r\n     * @description Rectangular hover detection zone\r\n     *  Use this method for hover detection first\r\n     * @type {Null|Array}\r\n     * @default hoverRect = null\r\n     * @example hoverRect = [0, 0, 100, 100] // [Rect start x, y, Rect width, height]\r\n     */\n    hoverRect: null,\n\n    /**\r\n     * @description Mouse enter event handler\r\n     * @type {Function|Null}\r\n     * @default mouseEnter = null\r\n     */\n    mouseEnter: null,\n\n    /**\r\n     * @description Mouse outer event handler\r\n     * @type {Function|Null}\r\n     * @default mouseOuter = null\r\n     */\n    mouseOuter: null,\n\n    /**\r\n     * @description Mouse click event handler\r\n     * @type {Function|Null}\r\n     * @default click = null\r\n     */\n    click: null\n  };\n  var configAbleNot = {\n    status: 'static',\n    animationRoot: [],\n    animationKeys: [],\n    animationFrameState: [],\n    cache: {}\n  };\n  if (!config.shape) config.shape = {};\n  if (!config.style) config.style = {};\n  var shape = Object.assign({}, graph.shape, config.shape);\n  Object.assign(defaultConfig, config, configAbleNot);\n  Object.assign(this, graph, defaultConfig);\n  this.shape = shape;\n  this.style = new _style[\"default\"](config.style);\n  this.addedProcessor();\n};\n/**\r\n * @description Processor of added\r\n * @return {Undefined} Void\r\n */\n\n\nexports[\"default\"] = Graph;\n\nGraph.prototype.addedProcessor = function () {\n  if (typeof this.setGraphCenter === 'function') this.setGraphCenter(null, this); // The life cycle 'added\"\n\n  if (typeof this.added === 'function') this.added(this);\n};\n/**\r\n * @description Processor of draw\r\n * @param {CRender} render Instance of CRender\r\n * @param {Graph} graph    Instance of Graph\r\n * @return {Undefined} Void\r\n */\n\n\nGraph.prototype.drawProcessor = function (render, graph) {\n  var ctx = render.ctx;\n  graph.style.initStyle(ctx);\n  if (typeof this.beforeDraw === 'function') this.beforeDraw(this, render);\n  graph.draw(render, graph);\n  if (typeof this.drawed === 'function') this.drawed(this, render);\n  graph.style.restoreTransform(ctx);\n};\n/**\r\n * @description Processor of hover check\r\n * @param {Array} position Mouse Position\r\n * @param {Graph} graph    Instance of Graph\r\n * @return {Boolean} Result of hover check\r\n */\n\n\nGraph.prototype.hoverCheckProcessor = function (position, _ref) {\n  var hoverRect = _ref.hoverRect,\n      style = _ref.style,\n      hoverCheck = _ref.hoverCheck;\n  var graphCenter = style.graphCenter,\n      rotate = style.rotate,\n      scale = style.scale,\n      translate = style.translate;\n\n  if (graphCenter) {\n    if (rotate) position = (0, _util.getRotatePointPos)(-rotate, position, graphCenter);\n    if (scale) position = (0, _util.getScalePointPos)(scale.map(function (s) {\n      return 1 / s;\n    }), position, graphCenter);\n    if (translate) position = (0, _util.getTranslatePointPos)(translate.map(function (v) {\n      return v * -1;\n    }), position);\n  }\n\n  if (hoverRect) return _util.checkPointIsInRect.apply(void 0, [position].concat((0, _toConsumableArray2[\"default\"])(hoverRect)));\n  return hoverCheck(position, this);\n};\n/**\r\n * @description Processor of move\r\n * @param {Event} e Mouse movement event\r\n * @return {Undefined} Void\r\n */\n\n\nGraph.prototype.moveProcessor = function (e) {\n  this.move(e, this);\n  if (typeof this.beforeMove === 'function') this.beforeMove(e, this);\n  if (typeof this.setGraphCenter === 'function') this.setGraphCenter(e, this);\n  if (typeof this.moved === 'function') this.moved(e, this);\n};\n/**\r\n * @description Update graph state\r\n * @param {String} attrName Updated attribute name\r\n * @param {Any} change      Updated value\r\n * @return {Undefined} Void\r\n */\n\n\nGraph.prototype.attr = function (attrName) {\n  var change = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  if (!attrName || change === undefined) return false;\n  var isObject = (0, _typeof2[\"default\"])(this[attrName]) === 'object';\n  if (isObject) change = (0, _util.deepClone)(change, true);\n  var render = this.render;\n\n  if (attrName === 'style') {\n    this.style.update(change);\n  } else if (isObject) {\n    Object.assign(this[attrName], change);\n  } else {\n    this[attrName] = change;\n  }\n\n  if (attrName === 'index') render.sortGraphsByIndex();\n  render.drawAllGraph();\n};\n/**\r\n * @description Update graphics state (with animation)\r\n *  Only shape and style attributes are supported\r\n * @param {String} attrName Updated attribute name\r\n * @param {Any} change      Updated value\r\n * @param {Boolean} wait    Whether to store the animation waiting\r\n *                          for the next animation request\r\n * @return {Promise} Animation Promise\r\n */\n\n\nGraph.prototype.animation =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee2(attrName, change) {\n    var wait,\n        changeRoot,\n        changeKeys,\n        beforeState,\n        animationFrame,\n        animationCurve,\n        animationDelay,\n        animationFrameState,\n        render,\n        _args2 = arguments;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            wait = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : false;\n\n            if (!(attrName !== 'shape' && attrName !== 'style')) {\n              _context2.next = 4;\n              break;\n            }\n\n            console.error('Only supported shape and style animation!');\n            return _context2.abrupt(\"return\");\n\n          case 4:\n            change = (0, _util.deepClone)(change, true);\n            if (attrName === 'style') this.style.colorProcessor(change);\n            changeRoot = this[attrName];\n            changeKeys = Object.keys(change);\n            beforeState = {};\n            changeKeys.forEach(function (key) {\n              return beforeState[key] = changeRoot[key];\n            });\n            animationFrame = this.animationFrame, animationCurve = this.animationCurve, animationDelay = this.animationDelay;\n            animationFrameState = (0, _transition[\"default\"])(animationCurve, beforeState, change, animationFrame, true);\n            this.animationRoot.push(changeRoot);\n            this.animationKeys.push(changeKeys);\n            this.animationFrameState.push(animationFrameState);\n\n            if (!wait) {\n              _context2.next = 17;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 17:\n            if (!(animationDelay > 0)) {\n              _context2.next = 20;\n              break;\n            }\n\n            _context2.next = 20;\n            return delay(animationDelay);\n\n          case 20:\n            render = this.render;\n            return _context2.abrupt(\"return\", new Promise(\n            /*#__PURE__*/\n            function () {\n              var _ref3 = (0, _asyncToGenerator2[\"default\"])(\n              /*#__PURE__*/\n              _regenerator[\"default\"].mark(function _callee(resolve) {\n                return _regenerator[\"default\"].wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return render.launchAnimation();\n\n                      case 2:\n                        resolve();\n\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x3) {\n                return _ref3.apply(this, arguments);\n              };\n            }()));\n\n          case 22:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n/**\r\n * @description Extract the next frame of data from the animation queue\r\n *              and update the graph state\r\n * @return {Undefined} Void\r\n */\n\n\nGraph.prototype.turnNextAnimationFrame = function (timeStamp) {\n  var animationDelay = this.animationDelay,\n      animationRoot = this.animationRoot,\n      animationKeys = this.animationKeys,\n      animationFrameState = this.animationFrameState,\n      animationPause = this.animationPause;\n  if (animationPause) return;\n  if (Date.now() - timeStamp < animationDelay) return;\n  animationRoot.forEach(function (root, i) {\n    animationKeys[i].forEach(function (key) {\n      root[key] = animationFrameState[i][0][key];\n    });\n  });\n  animationFrameState.forEach(function (stateItem, i) {\n    stateItem.shift();\n    var noFrame = stateItem.length === 0;\n    if (noFrame) animationRoot[i] = null;\n    if (noFrame) animationKeys[i] = null;\n  });\n  this.animationFrameState = animationFrameState.filter(function (state) {\n    return state.length;\n  });\n  this.animationRoot = animationRoot.filter(function (root) {\n    return root;\n  });\n  this.animationKeys = animationKeys.filter(function (keys) {\n    return keys;\n  });\n};\n/**\r\n * @description Skip to the last frame of animation\r\n * @return {Undefined} Void\r\n */\n\n\nGraph.prototype.animationEnd = function () {\n  var animationFrameState = this.animationFrameState,\n      animationKeys = this.animationKeys,\n      animationRoot = this.animationRoot,\n      render = this.render;\n  animationRoot.forEach(function (root, i) {\n    var currentKeys = animationKeys[i];\n    var lastState = animationFrameState[i].pop();\n    currentKeys.forEach(function (key) {\n      return root[key] = lastState[key];\n    });\n  });\n  this.animationFrameState = [];\n  this.animationKeys = [];\n  this.animationRoot = [];\n  return render.drawAllGraph();\n};\n/**\r\n * @description Pause animation behavior\r\n * @return {Undefined} Void\r\n */\n\n\nGraph.prototype.pauseAnimation = function () {\n  this.attr('animationPause', true);\n};\n/**\r\n * @description Try animation behavior\r\n * @return {Undefined} Void\r\n */\n\n\nGraph.prototype.playAnimation = function () {\n  var render = this.render;\n  this.attr('animationPause', false);\n  return new Promise(\n  /*#__PURE__*/\n  function () {\n    var _ref4 = (0, _asyncToGenerator2[\"default\"])(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee3(resolve) {\n      return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return render.launchAnimation();\n\n            case 2:\n              resolve();\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n/**\r\n * @description Processor of delete\r\n * @param {CRender} render Instance of CRender\r\n * @return {Undefined} Void\r\n */\n\n\nGraph.prototype.delProcessor = function (render) {\n  var _this = this;\n\n  var graphs = render.graphs;\n  var index = graphs.findIndex(function (graph) {\n    return graph === _this;\n  });\n  if (index === -1) return;\n  if (typeof this.beforeDelete === 'function') this.beforeDelete(this);\n  graphs.splice(index, 1, null);\n  if (typeof this.deleted === 'function') this.deleted(this);\n};\n/**\r\n * @description Return a timed release Promise\r\n * @param {Number} time Release time\r\n * @return {Promise} A timed release Promise\r\n */\n\n\nfunction delay(time) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, time);\n  });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}