{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.filterNonNumber = filterNonNumber;\nexports.deepMerge = deepMerge;\nexports.mulAdd = mulAdd;\nexports.mergeSameStackData = mergeSameStackData;\nexports.getTwoPointDistance = getTwoPointDistance;\nexports.getLinearGradientColor = getLinearGradientColor;\nexports.getPolylineLength = getPolylineLength;\nexports.getPointToLineDistance = getPointToLineDistance;\nexports.initNeedSeries = initNeedSeries;\nexports.radianToAngle = radianToAngle;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _util = require(\"@jiaminghi/c-render/lib/plugin/util\");\nfunction filterNonNumber(array) {\n  return array.filter(function (n) {\n    return typeof n === 'number';\n  });\n}\nfunction deepMerge(target, merged) {\n  for (var key in merged) {\n    if (target[key] && (0, _typeof2[\"default\"])(target[key]) === 'object') {\n      deepMerge(target[key], merged[key]);\n      continue;\n    }\n    if ((0, _typeof2[\"default\"])(merged[key]) === 'object') {\n      target[key] = (0, _util.deepClone)(merged[key], true);\n      continue;\n    }\n    target[key] = merged[key];\n  }\n  return target;\n}\nfunction mulAdd(nums) {\n  nums = filterNonNumber(nums);\n  return nums.reduce(function (all, num) {\n    return all + num;\n  }, 0);\n}\nfunction mergeSameStackData(item, series) {\n  var stack = item.stack;\n  if (!stack) return (0, _toConsumableArray2[\"default\"])(item.data);\n  var stacks = series.filter(function (_ref) {\n    var s = _ref.stack;\n    return s === stack;\n  });\n  var index = stacks.findIndex(function (_ref2) {\n    var d = _ref2.data;\n    return d === item.data;\n  });\n  var datas = stacks.splice(0, index + 1).map(function (_ref3) {\n    var data = _ref3.data;\n    return data;\n  });\n  var dataLength = datas[0].length;\n  return new Array(dataLength).fill(0).map(function (foo, i) {\n    return mulAdd(datas.map(function (d) {\n      return d[i];\n    }));\n  });\n}\nfunction getTwoPointDistance(pointOne, pointTwo) {\n  var minusX = Math.abs(pointOne[0] - pointTwo[0]);\n  var minusY = Math.abs(pointOne[1] - pointTwo[1]);\n  return Math.sqrt(minusX * minusX + minusY * minusY);\n}\nfunction getLinearGradientColor(ctx, begin, end, color) {\n  if (!ctx || !begin || !end || !color.length) return;\n  var colors = color;\n  typeof colors === 'string' && (colors = [color, color]);\n  var linearGradientColor = ctx.createLinearGradient.apply(ctx, (0, _toConsumableArray2[\"default\"])(begin).concat((0, _toConsumableArray2[\"default\"])(end)));\n  var colorGap = 1 / (colors.length - 1);\n  colors.forEach(function (c, i) {\n    return linearGradientColor.addColorStop(colorGap * i, c);\n  });\n  return linearGradientColor;\n}\nfunction getPolylineLength(points) {\n  var lineSegments = new Array(points.length - 1).fill(0).map(function (foo, i) {\n    return [points[i], points[i + 1]];\n  });\n  var lengths = lineSegments.map(function (item) {\n    return getTwoPointDistance.apply(void 0, (0, _toConsumableArray2[\"default\"])(item));\n  });\n  return mulAdd(lengths);\n}\nfunction getPointToLineDistance(point, linePointOne, linePointTwo) {\n  var a = getTwoPointDistance(point, linePointOne);\n  var b = getTwoPointDistance(point, linePointTwo);\n  var c = getTwoPointDistance(linePointOne, linePointTwo);\n  return 0.5 * Math.sqrt((a + b + c) * (a + b - c) * (a + c - b) * (b + c - a)) / c;\n}\nfunction initNeedSeries(series, config, type) {\n  series = series.filter(function (_ref4) {\n    var st = _ref4.type;\n    return st === type;\n  });\n  series = series.map(function (item) {\n    return deepMerge((0, _util.deepClone)(config, true), item);\n  });\n  return series.filter(function (_ref5) {\n    var show = _ref5.show;\n    return show;\n  });\n}\nfunction radianToAngle(radian) {\n  return radian / Math.PI * 180;\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","filterNonNumber","deepMerge","mulAdd","mergeSameStackData","getTwoPointDistance","getLinearGradientColor","getPolylineLength","getPointToLineDistance","initNeedSeries","radianToAngle","_toConsumableArray2","_typeof2","_util","array","filter","n","target","merged","key","deepClone","nums","reduce","all","num","item","series","stack","data","stacks","_ref","s","index","findIndex","_ref2","d","datas","splice","map","_ref3","dataLength","length","Array","fill","foo","i","pointOne","pointTwo","minusX","Math","abs","minusY","sqrt","ctx","begin","end","color","colors","linearGradientColor","createLinearGradient","apply","concat","colorGap","forEach","c","addColorStop","points","lineSegments","lengths","point","linePointOne","linePointTwo","a","b","config","type","_ref4","st","_ref5","show","radian","PI"],"sources":["D:/doc/workplace/vscode/vue03/node_modules/@jiaminghi/charts/lib/util/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.filterNonNumber = filterNonNumber;\nexports.deepMerge = deepMerge;\nexports.mulAdd = mulAdd;\nexports.mergeSameStackData = mergeSameStackData;\nexports.getTwoPointDistance = getTwoPointDistance;\nexports.getLinearGradientColor = getLinearGradientColor;\nexports.getPolylineLength = getPolylineLength;\nexports.getPointToLineDistance = getPointToLineDistance;\nexports.initNeedSeries = initNeedSeries;\nexports.radianToAngle = radianToAngle;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _util = require(\"@jiaminghi/c-render/lib/plugin/util\");\n\nfunction filterNonNumber(array) {\n  return array.filter(function (n) {\n    return typeof n === 'number';\n  });\n}\n\nfunction deepMerge(target, merged) {\n  for (var key in merged) {\n    if (target[key] && (0, _typeof2[\"default\"])(target[key]) === 'object') {\n      deepMerge(target[key], merged[key]);\n      continue;\n    }\n\n    if ((0, _typeof2[\"default\"])(merged[key]) === 'object') {\n      target[key] = (0, _util.deepClone)(merged[key], true);\n      continue;\n    }\n\n    target[key] = merged[key];\n  }\n\n  return target;\n}\n\nfunction mulAdd(nums) {\n  nums = filterNonNumber(nums);\n  return nums.reduce(function (all, num) {\n    return all + num;\n  }, 0);\n}\n\nfunction mergeSameStackData(item, series) {\n  var stack = item.stack;\n  if (!stack) return (0, _toConsumableArray2[\"default\"])(item.data);\n  var stacks = series.filter(function (_ref) {\n    var s = _ref.stack;\n    return s === stack;\n  });\n  var index = stacks.findIndex(function (_ref2) {\n    var d = _ref2.data;\n    return d === item.data;\n  });\n  var datas = stacks.splice(0, index + 1).map(function (_ref3) {\n    var data = _ref3.data;\n    return data;\n  });\n  var dataLength = datas[0].length;\n  return new Array(dataLength).fill(0).map(function (foo, i) {\n    return mulAdd(datas.map(function (d) {\n      return d[i];\n    }));\n  });\n}\n\nfunction getTwoPointDistance(pointOne, pointTwo) {\n  var minusX = Math.abs(pointOne[0] - pointTwo[0]);\n  var minusY = Math.abs(pointOne[1] - pointTwo[1]);\n  return Math.sqrt(minusX * minusX + minusY * minusY);\n}\n\nfunction getLinearGradientColor(ctx, begin, end, color) {\n  if (!ctx || !begin || !end || !color.length) return;\n  var colors = color;\n  typeof colors === 'string' && (colors = [color, color]);\n  var linearGradientColor = ctx.createLinearGradient.apply(ctx, (0, _toConsumableArray2[\"default\"])(begin).concat((0, _toConsumableArray2[\"default\"])(end)));\n  var colorGap = 1 / (colors.length - 1);\n  colors.forEach(function (c, i) {\n    return linearGradientColor.addColorStop(colorGap * i, c);\n  });\n  return linearGradientColor;\n}\n\nfunction getPolylineLength(points) {\n  var lineSegments = new Array(points.length - 1).fill(0).map(function (foo, i) {\n    return [points[i], points[i + 1]];\n  });\n  var lengths = lineSegments.map(function (item) {\n    return getTwoPointDistance.apply(void 0, (0, _toConsumableArray2[\"default\"])(item));\n  });\n  return mulAdd(lengths);\n}\n\nfunction getPointToLineDistance(point, linePointOne, linePointTwo) {\n  var a = getTwoPointDistance(point, linePointOne);\n  var b = getTwoPointDistance(point, linePointTwo);\n  var c = getTwoPointDistance(linePointOne, linePointTwo);\n  return 0.5 * Math.sqrt((a + b + c) * (a + b - c) * (a + c - b) * (b + c - a)) / c;\n}\n\nfunction initNeedSeries(series, config, type) {\n  series = series.filter(function (_ref4) {\n    var st = _ref4.type;\n    return st === type;\n  });\n  series = series.map(function (item) {\n    return deepMerge((0, _util.deepClone)(config, true), item);\n  });\n  return series.filter(function (_ref5) {\n    var show = _ref5.show;\n    return show;\n  });\n}\n\nfunction radianToAngle(radian) {\n  return radian / Math.PI * 180;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}