{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.line = line;\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _updater = require(\"../class/updater.class\");\nvar _config = require(\"../config\");\nvar _bezierCurve = _interopRequireDefault(require(\"@jiaminghi/bezier-curve\"));\nvar _util = require(\"../util\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nvar polylineToBezierCurve = _bezierCurve[\"default\"].polylineToBezierCurve,\n  getBezierCurveLength = _bezierCurve[\"default\"].getBezierCurveLength;\nfunction line(chart) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var xAxis = option.xAxis,\n    yAxis = option.yAxis,\n    series = option.series;\n  var lines = [];\n  if (xAxis && yAxis && series) {\n    lines = (0, _util.initNeedSeries)(series, _config.lineConfig, 'line');\n    lines = calcLinesPosition(lines, chart);\n  }\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: lines,\n    key: 'lineArea',\n    getGraphConfig: getLineAreaConfig,\n    getStartGraphConfig: getStartLineAreaConfig,\n    beforeUpdate: beforeUpdateLineAndArea,\n    beforeChange: beforeChangeLineAndArea\n  });\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: lines,\n    key: 'line',\n    getGraphConfig: getLineConfig,\n    getStartGraphConfig: getStartLineConfig,\n    beforeUpdate: beforeUpdateLineAndArea,\n    beforeChange: beforeChangeLineAndArea\n  });\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: lines,\n    key: 'linePoint',\n    getGraphConfig: getPointConfig,\n    getStartGraphConfig: getStartPointConfig\n  });\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: lines,\n    key: 'lineLabel',\n    getGraphConfig: getLabelConfig\n  });\n}\nfunction calcLinesPosition(lines, chart) {\n  var axisData = chart.axisData;\n  return lines.map(function (lineItem) {\n    var lineData = (0, _util.mergeSameStackData)(lineItem, lines);\n    lineData = mergeNonNumber(lineItem, lineData);\n    var lineAxis = getLineAxis(lineItem, axisData);\n    var linePosition = getLinePosition(lineData, lineAxis);\n    var lineFillBottomPos = getLineFillBottomPos(lineAxis);\n    return _objectSpread(_objectSpread({}, lineItem), {}, {\n      linePosition: linePosition.filter(function (p) {\n        return p;\n      }),\n      lineFillBottomPos: lineFillBottomPos\n    });\n  });\n}\nfunction mergeNonNumber(lineItem, lineData) {\n  var data = lineItem.data;\n  return lineData.map(function (v, i) {\n    return typeof data[i] === 'number' ? v : null;\n  });\n}\nfunction getLineAxis(line, axisData) {\n  var xAxisIndex = line.xAxisIndex,\n    yAxisIndex = line.yAxisIndex;\n  var xAxis = axisData.find(function (_ref) {\n    var axis = _ref.axis,\n      index = _ref.index;\n    return axis === 'x' && index === xAxisIndex;\n  });\n  var yAxis = axisData.find(function (_ref2) {\n    var axis = _ref2.axis,\n      index = _ref2.index;\n    return axis === 'y' && index === yAxisIndex;\n  });\n  return [xAxis, yAxis];\n}\nfunction getLinePosition(lineData, lineAxis) {\n  var valueAxisIndex = lineAxis.findIndex(function (_ref3) {\n    var data = _ref3.data;\n    return data === 'value';\n  });\n  var valueAxis = lineAxis[valueAxisIndex];\n  var labelAxis = lineAxis[1 - valueAxisIndex];\n  var linePosition = valueAxis.linePosition,\n    axis = valueAxis.axis;\n  var tickPosition = labelAxis.tickPosition;\n  var tickNum = tickPosition.length;\n  var valueAxisPosIndex = axis === 'x' ? 0 : 1;\n  var valueAxisStartPos = linePosition[0][valueAxisPosIndex];\n  var valueAxisEndPos = linePosition[1][valueAxisPosIndex];\n  var valueAxisPosMinus = valueAxisEndPos - valueAxisStartPos;\n  var maxValue = valueAxis.maxValue,\n    minValue = valueAxis.minValue;\n  var valueMinus = maxValue - minValue;\n  var position = new Array(tickNum).fill(0).map(function (foo, i) {\n    var v = lineData[i];\n    if (typeof v !== 'number') return null;\n    var valuePercent = (v - minValue) / valueMinus;\n    if (valueMinus === 0) valuePercent = 0;\n    return valuePercent * valueAxisPosMinus + valueAxisStartPos;\n  });\n  return position.map(function (vPos, i) {\n    if (i >= tickNum || typeof vPos !== 'number') return null;\n    var pos = [vPos, tickPosition[i][1 - valueAxisPosIndex]];\n    if (valueAxisPosIndex === 0) return pos;\n    pos.reverse();\n    return pos;\n  });\n}\nfunction getLineFillBottomPos(lineAxis) {\n  var valueAxis = lineAxis.find(function (_ref4) {\n    var data = _ref4.data;\n    return data === 'value';\n  });\n  var axis = valueAxis.axis,\n    linePosition = valueAxis.linePosition,\n    minValue = valueAxis.minValue,\n    maxValue = valueAxis.maxValue;\n  var changeIndex = axis === 'x' ? 0 : 1;\n  var changeValue = linePosition[0][changeIndex];\n  if (minValue < 0 && maxValue > 0) {\n    var valueMinus = maxValue - minValue;\n    var posMinus = Math.abs(linePosition[0][changeIndex] - linePosition[1][changeIndex]);\n    var offset = Math.abs(minValue) / valueMinus * posMinus;\n    if (axis === 'y') offset *= -1;\n    changeValue += offset;\n  }\n  return {\n    changeIndex: changeIndex,\n    changeValue: changeValue\n  };\n}\nfunction getLineAreaConfig(lineItem) {\n  var animationCurve = lineItem.animationCurve,\n    animationFrame = lineItem.animationFrame,\n    lineFillBottomPos = lineItem.lineFillBottomPos,\n    rLevel = lineItem.rLevel;\n  return [{\n    name: getLineGraphName(lineItem),\n    index: rLevel,\n    animationCurve: animationCurve,\n    animationFrame: animationFrame,\n    visible: lineItem.lineArea.show,\n    lineFillBottomPos: lineFillBottomPos,\n    shape: getLineAndAreaShape(lineItem),\n    style: getLineAreaStyle(lineItem),\n    drawed: lineAreaDrawed\n  }];\n}\nfunction getLineAndAreaShape(lineItem) {\n  var linePosition = lineItem.linePosition;\n  return {\n    points: linePosition\n  };\n}\nfunction getLineAreaStyle(lineItem) {\n  var lineArea = lineItem.lineArea,\n    color = lineItem.color;\n  var gradient = lineArea.gradient,\n    style = lineArea.style;\n  var fillColor = [style.fill || color];\n  var gradientColor = (0, _util.deepMerge)(fillColor, gradient);\n  if (gradientColor.length === 1) gradientColor.push(gradientColor[0]);\n  var gradientParams = getGradientParams(lineItem);\n  style = _objectSpread(_objectSpread({}, style), {}, {\n    stroke: 'rgba(0, 0, 0, 0)'\n  });\n  return (0, _util.deepMerge)({\n    gradientColor: gradientColor,\n    gradientParams: gradientParams,\n    gradientType: 'linear',\n    gradientWith: 'fill'\n  }, style);\n}\nfunction getGradientParams(lineItem) {\n  var lineFillBottomPos = lineItem.lineFillBottomPos,\n    linePosition = lineItem.linePosition;\n  var changeIndex = lineFillBottomPos.changeIndex,\n    changeValue = lineFillBottomPos.changeValue;\n  var mainPos = linePosition.map(function (p) {\n    return p[changeIndex];\n  });\n  var maxPos = Math.max.apply(Math, (0, _toConsumableArray2[\"default\"])(mainPos));\n  var minPos = Math.min.apply(Math, (0, _toConsumableArray2[\"default\"])(mainPos));\n  var beginPos = maxPos;\n  if (changeIndex === 1) beginPos = minPos;\n  if (changeIndex === 1) {\n    return [0, beginPos, 0, changeValue];\n  } else {\n    return [beginPos, 0, changeValue, 0];\n  }\n}\nfunction lineAreaDrawed(_ref5, _ref6) {\n  var lineFillBottomPos = _ref5.lineFillBottomPos,\n    shape = _ref5.shape;\n  var ctx = _ref6.ctx;\n  var points = shape.points;\n  var changeIndex = lineFillBottomPos.changeIndex,\n    changeValue = lineFillBottomPos.changeValue;\n  var linePoint1 = (0, _toConsumableArray2[\"default\"])(points[points.length - 1]);\n  var linePoint2 = (0, _toConsumableArray2[\"default\"])(points[0]);\n  linePoint1[changeIndex] = changeValue;\n  linePoint2[changeIndex] = changeValue;\n  ctx.lineTo.apply(ctx, (0, _toConsumableArray2[\"default\"])(linePoint1));\n  ctx.lineTo.apply(ctx, (0, _toConsumableArray2[\"default\"])(linePoint2));\n  ctx.closePath();\n  ctx.fill();\n}\nfunction getStartLineAreaConfig(lineItem) {\n  var config = getLineAreaConfig(lineItem)[0];\n  var style = _objectSpread({}, config.style);\n  style.opacity = 0;\n  config.style = style;\n  return [config];\n}\nfunction beforeUpdateLineAndArea(graphs, lineItem, i, updater) {\n  var cache = graphs[i];\n  if (!cache) return;\n  var currentName = getLineGraphName(lineItem);\n  var render = updater.chart.render;\n  var name = cache[0].name;\n  var delAll = currentName !== name;\n  if (!delAll) return;\n  cache.forEach(function (g) {\n    return render.delGraph(g);\n  });\n  graphs[i] = null;\n}\nfunction beforeChangeLineAndArea(graph, config) {\n  var points = config.shape.points;\n  var graphPoints = graph.shape.points;\n  var graphPointsNum = graphPoints.length;\n  var pointsNum = points.length;\n  if (pointsNum > graphPointsNum) {\n    var lastPoint = graphPoints.slice(-1)[0];\n    var newAddPoints = new Array(pointsNum - graphPointsNum).fill(0).map(function (foo) {\n      return (0, _toConsumableArray2[\"default\"])(lastPoint);\n    });\n    graphPoints.push.apply(graphPoints, (0, _toConsumableArray2[\"default\"])(newAddPoints));\n  } else if (pointsNum < graphPointsNum) {\n    graphPoints.splice(pointsNum);\n  }\n}\nfunction getLineConfig(lineItem) {\n  var animationCurve = lineItem.animationCurve,\n    animationFrame = lineItem.animationFrame,\n    rLevel = lineItem.rLevel;\n  return [{\n    name: getLineGraphName(lineItem),\n    index: rLevel + 1,\n    animationCurve: animationCurve,\n    animationFrame: animationFrame,\n    shape: getLineAndAreaShape(lineItem),\n    style: getLineStyle(lineItem)\n  }];\n}\nfunction getLineGraphName(lineItem) {\n  var smooth = lineItem.smooth;\n  return smooth ? 'smoothline' : 'polyline';\n}\nfunction getLineStyle(lineItem) {\n  var lineStyle = lineItem.lineStyle,\n    color = lineItem.color,\n    smooth = lineItem.smooth,\n    linePosition = lineItem.linePosition;\n  var lineLength = getLineLength(linePosition, smooth);\n  return (0, _util.deepMerge)({\n    stroke: color,\n    lineDash: [lineLength, 0]\n  }, lineStyle);\n}\nfunction getLineLength(points) {\n  var smooth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (!smooth) return (0, _util.getPolylineLength)(points);\n  var curve = polylineToBezierCurve(points);\n  return getBezierCurveLength(curve);\n}\nfunction getStartLineConfig(lineItem) {\n  var lineDash = lineItem.lineStyle.lineDash;\n  var config = getLineConfig(lineItem)[0];\n  var realLineDash = config.style.lineDash;\n  if (lineDash) {\n    realLineDash = [0, 0];\n  } else {\n    realLineDash = (0, _toConsumableArray2[\"default\"])(realLineDash).reverse();\n  }\n  config.style.lineDash = realLineDash;\n  return [config];\n}\nfunction getPointConfig(lineItem) {\n  var animationCurve = lineItem.animationCurve,\n    animationFrame = lineItem.animationFrame,\n    rLevel = lineItem.rLevel;\n  var shapes = getPointShapes(lineItem);\n  var style = getPointStyle(lineItem);\n  return shapes.map(function (shape) {\n    return {\n      name: 'circle',\n      index: rLevel + 2,\n      visible: lineItem.linePoint.show,\n      animationCurve: animationCurve,\n      animationFrame: animationFrame,\n      shape: shape,\n      style: style\n    };\n  });\n}\nfunction getPointShapes(lineItem) {\n  var linePosition = lineItem.linePosition,\n    radius = lineItem.linePoint.radius;\n  return linePosition.map(function (_ref7) {\n    var _ref8 = (0, _slicedToArray2[\"default\"])(_ref7, 2),\n      rx = _ref8[0],\n      ry = _ref8[1];\n    return {\n      r: radius,\n      rx: rx,\n      ry: ry\n    };\n  });\n}\nfunction getPointStyle(lineItem) {\n  var color = lineItem.color,\n    style = lineItem.linePoint.style;\n  return (0, _util.deepMerge)({\n    stroke: color\n  }, style);\n}\nfunction getStartPointConfig(lineItem) {\n  var configs = getPointConfig(lineItem);\n  configs.forEach(function (config) {\n    config.shape.r = 0.1;\n  });\n  return configs;\n}\nfunction getLabelConfig(lineItem) {\n  var animationCurve = lineItem.animationCurve,\n    animationFrame = lineItem.animationFrame,\n    rLevel = lineItem.rLevel;\n  var shapes = getLabelShapes(lineItem);\n  var style = getLabelStyle(lineItem);\n  return shapes.map(function (shape, i) {\n    return {\n      name: 'text',\n      index: rLevel + 3,\n      visible: lineItem.label.show,\n      animationCurve: animationCurve,\n      animationFrame: animationFrame,\n      shape: shape,\n      style: style\n    };\n  });\n}\nfunction getLabelShapes(lineItem) {\n  var contents = formatterLabel(lineItem);\n  var position = getLabelPosition(lineItem);\n  return contents.map(function (content, i) {\n    return {\n      content: content,\n      position: position[i]\n    };\n  });\n}\nfunction getLabelPosition(lineItem) {\n  var linePosition = lineItem.linePosition,\n    lineFillBottomPos = lineItem.lineFillBottomPos,\n    label = lineItem.label;\n  var position = label.position,\n    offset = label.offset;\n  var changeIndex = lineFillBottomPos.changeIndex,\n    changeValue = lineFillBottomPos.changeValue;\n  return linePosition.map(function (pos) {\n    if (position === 'bottom') {\n      pos = (0, _toConsumableArray2[\"default\"])(pos);\n      pos[changeIndex] = changeValue;\n    }\n    if (position === 'center') {\n      var bottom = (0, _toConsumableArray2[\"default\"])(pos);\n      bottom[changeIndex] = changeValue;\n      pos = getCenterLabelPoint(pos, bottom);\n    }\n    return getOffsetedPoint(pos, offset);\n  });\n}\nfunction getOffsetedPoint(_ref9, _ref10) {\n  var _ref11 = (0, _slicedToArray2[\"default\"])(_ref9, 2),\n    x = _ref11[0],\n    y = _ref11[1];\n  var _ref12 = (0, _slicedToArray2[\"default\"])(_ref10, 2),\n    ox = _ref12[0],\n    oy = _ref12[1];\n  return [x + ox, y + oy];\n}\nfunction getCenterLabelPoint(_ref13, _ref14) {\n  var _ref15 = (0, _slicedToArray2[\"default\"])(_ref13, 2),\n    ax = _ref15[0],\n    ay = _ref15[1];\n  var _ref16 = (0, _slicedToArray2[\"default\"])(_ref14, 2),\n    bx = _ref16[0],\n    by = _ref16[1];\n  return [(ax + bx) / 2, (ay + by) / 2];\n}\nfunction formatterLabel(lineItem) {\n  var data = lineItem.data,\n    formatter = lineItem.label.formatter;\n  data = data.filter(function (d) {\n    return typeof d === 'number';\n  }).map(function (d) {\n    return d.toString();\n  });\n  if (!formatter) return data;\n  var type = (0, _typeof2[\"default\"])(formatter);\n  if (type === 'string') return data.map(function (d) {\n    return formatter.replace('{value}', d);\n  });\n  if (type === 'function') return data.map(function (value, index) {\n    return formatter({\n      value: value,\n      index: index\n    });\n  });\n  return data;\n}\nfunction getLabelStyle(lineItem) {\n  var color = lineItem.color,\n    style = lineItem.label.style;\n  return (0, _util.deepMerge)({\n    fill: color\n  }, style);\n}","map":{"version":3,"names":["require","_interopRequireDefault","Object","defineProperty","exports","value","line","_typeof2","_slicedToArray2","_toConsumableArray2","_defineProperty2","_updater","_config","_bezierCurve","_util","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","polylineToBezierCurve","getBezierCurveLength","chart","option","undefined","xAxis","yAxis","series","lines","initNeedSeries","lineConfig","calcLinesPosition","doUpdate","getGraphConfig","getLineAreaConfig","getStartGraphConfig","getStartLineAreaConfig","beforeUpdate","beforeUpdateLineAndArea","beforeChange","beforeChangeLineAndArea","getLineConfig","getStartLineConfig","getPointConfig","getStartPointConfig","getLabelConfig","axisData","map","lineItem","lineData","mergeSameStackData","mergeNonNumber","lineAxis","getLineAxis","linePosition","getLinePosition","lineFillBottomPos","getLineFillBottomPos","p","data","v","xAxisIndex","yAxisIndex","find","_ref","axis","index","_ref2","valueAxisIndex","findIndex","_ref3","valueAxis","labelAxis","tickPosition","tickNum","valueAxisPosIndex","valueAxisStartPos","valueAxisEndPos","valueAxisPosMinus","maxValue","minValue","valueMinus","position","Array","fill","foo","valuePercent","vPos","pos","reverse","_ref4","changeIndex","changeValue","posMinus","Math","abs","offset","animationCurve","animationFrame","rLevel","name","getLineGraphName","visible","lineArea","show","shape","getLineAndAreaShape","style","getLineAreaStyle","drawed","lineAreaDrawed","points","color","gradient","fillColor","gradientColor","deepMerge","gradientParams","getGradientParams","stroke","gradientType","gradientWith","mainPos","maxPos","max","minPos","min","beginPos","_ref5","_ref6","ctx","linePoint1","linePoint2","lineTo","closePath","config","opacity","graphs","updater","cache","currentName","render","delAll","g","delGraph","graph","graphPoints","graphPointsNum","pointsNum","lastPoint","slice","newAddPoints","splice","getLineStyle","smooth","lineStyle","lineLength","getLineLength","lineDash","getPolylineLength","curve","realLineDash","shapes","getPointShapes","getPointStyle","linePoint","radius","_ref7","_ref8","rx","ry","r","configs","getLabelShapes","getLabelStyle","label","contents","formatterLabel","getLabelPosition","content","bottom","getCenterLabelPoint","getOffsetedPoint","_ref9","_ref10","_ref11","x","y","_ref12","ox","oy","_ref13","_ref14","_ref15","ax","ay","_ref16","bx","by","formatter","d","toString","type","replace"],"sources":["D:/doc/workplace/vscode/Traffic simulation/node_modules/@jiaminghi/charts/lib/core/line.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.line = line;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _updater = require(\"../class/updater.class\");\n\nvar _config = require(\"../config\");\n\nvar _bezierCurve = _interopRequireDefault(require(\"@jiaminghi/bezier-curve\"));\n\nvar _util = require(\"../util\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar polylineToBezierCurve = _bezierCurve[\"default\"].polylineToBezierCurve,\n    getBezierCurveLength = _bezierCurve[\"default\"].getBezierCurveLength;\n\nfunction line(chart) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var xAxis = option.xAxis,\n      yAxis = option.yAxis,\n      series = option.series;\n  var lines = [];\n\n  if (xAxis && yAxis && series) {\n    lines = (0, _util.initNeedSeries)(series, _config.lineConfig, 'line');\n    lines = calcLinesPosition(lines, chart);\n  }\n\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: lines,\n    key: 'lineArea',\n    getGraphConfig: getLineAreaConfig,\n    getStartGraphConfig: getStartLineAreaConfig,\n    beforeUpdate: beforeUpdateLineAndArea,\n    beforeChange: beforeChangeLineAndArea\n  });\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: lines,\n    key: 'line',\n    getGraphConfig: getLineConfig,\n    getStartGraphConfig: getStartLineConfig,\n    beforeUpdate: beforeUpdateLineAndArea,\n    beforeChange: beforeChangeLineAndArea\n  });\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: lines,\n    key: 'linePoint',\n    getGraphConfig: getPointConfig,\n    getStartGraphConfig: getStartPointConfig\n  });\n  (0, _updater.doUpdate)({\n    chart: chart,\n    series: lines,\n    key: 'lineLabel',\n    getGraphConfig: getLabelConfig\n  });\n}\n\nfunction calcLinesPosition(lines, chart) {\n  var axisData = chart.axisData;\n  return lines.map(function (lineItem) {\n    var lineData = (0, _util.mergeSameStackData)(lineItem, lines);\n    lineData = mergeNonNumber(lineItem, lineData);\n    var lineAxis = getLineAxis(lineItem, axisData);\n    var linePosition = getLinePosition(lineData, lineAxis);\n    var lineFillBottomPos = getLineFillBottomPos(lineAxis);\n    return _objectSpread(_objectSpread({}, lineItem), {}, {\n      linePosition: linePosition.filter(function (p) {\n        return p;\n      }),\n      lineFillBottomPos: lineFillBottomPos\n    });\n  });\n}\n\nfunction mergeNonNumber(lineItem, lineData) {\n  var data = lineItem.data;\n  return lineData.map(function (v, i) {\n    return typeof data[i] === 'number' ? v : null;\n  });\n}\n\nfunction getLineAxis(line, axisData) {\n  var xAxisIndex = line.xAxisIndex,\n      yAxisIndex = line.yAxisIndex;\n  var xAxis = axisData.find(function (_ref) {\n    var axis = _ref.axis,\n        index = _ref.index;\n    return axis === 'x' && index === xAxisIndex;\n  });\n  var yAxis = axisData.find(function (_ref2) {\n    var axis = _ref2.axis,\n        index = _ref2.index;\n    return axis === 'y' && index === yAxisIndex;\n  });\n  return [xAxis, yAxis];\n}\n\nfunction getLinePosition(lineData, lineAxis) {\n  var valueAxisIndex = lineAxis.findIndex(function (_ref3) {\n    var data = _ref3.data;\n    return data === 'value';\n  });\n  var valueAxis = lineAxis[valueAxisIndex];\n  var labelAxis = lineAxis[1 - valueAxisIndex];\n  var linePosition = valueAxis.linePosition,\n      axis = valueAxis.axis;\n  var tickPosition = labelAxis.tickPosition;\n  var tickNum = tickPosition.length;\n  var valueAxisPosIndex = axis === 'x' ? 0 : 1;\n  var valueAxisStartPos = linePosition[0][valueAxisPosIndex];\n  var valueAxisEndPos = linePosition[1][valueAxisPosIndex];\n  var valueAxisPosMinus = valueAxisEndPos - valueAxisStartPos;\n  var maxValue = valueAxis.maxValue,\n      minValue = valueAxis.minValue;\n  var valueMinus = maxValue - minValue;\n  var position = new Array(tickNum).fill(0).map(function (foo, i) {\n    var v = lineData[i];\n    if (typeof v !== 'number') return null;\n    var valuePercent = (v - minValue) / valueMinus;\n    if (valueMinus === 0) valuePercent = 0;\n    return valuePercent * valueAxisPosMinus + valueAxisStartPos;\n  });\n  return position.map(function (vPos, i) {\n    if (i >= tickNum || typeof vPos !== 'number') return null;\n    var pos = [vPos, tickPosition[i][1 - valueAxisPosIndex]];\n    if (valueAxisPosIndex === 0) return pos;\n    pos.reverse();\n    return pos;\n  });\n}\n\nfunction getLineFillBottomPos(lineAxis) {\n  var valueAxis = lineAxis.find(function (_ref4) {\n    var data = _ref4.data;\n    return data === 'value';\n  });\n  var axis = valueAxis.axis,\n      linePosition = valueAxis.linePosition,\n      minValue = valueAxis.minValue,\n      maxValue = valueAxis.maxValue;\n  var changeIndex = axis === 'x' ? 0 : 1;\n  var changeValue = linePosition[0][changeIndex];\n\n  if (minValue < 0 && maxValue > 0) {\n    var valueMinus = maxValue - minValue;\n    var posMinus = Math.abs(linePosition[0][changeIndex] - linePosition[1][changeIndex]);\n    var offset = Math.abs(minValue) / valueMinus * posMinus;\n    if (axis === 'y') offset *= -1;\n    changeValue += offset;\n  }\n\n  return {\n    changeIndex: changeIndex,\n    changeValue: changeValue\n  };\n}\n\nfunction getLineAreaConfig(lineItem) {\n  var animationCurve = lineItem.animationCurve,\n      animationFrame = lineItem.animationFrame,\n      lineFillBottomPos = lineItem.lineFillBottomPos,\n      rLevel = lineItem.rLevel;\n  return [{\n    name: getLineGraphName(lineItem),\n    index: rLevel,\n    animationCurve: animationCurve,\n    animationFrame: animationFrame,\n    visible: lineItem.lineArea.show,\n    lineFillBottomPos: lineFillBottomPos,\n    shape: getLineAndAreaShape(lineItem),\n    style: getLineAreaStyle(lineItem),\n    drawed: lineAreaDrawed\n  }];\n}\n\nfunction getLineAndAreaShape(lineItem) {\n  var linePosition = lineItem.linePosition;\n  return {\n    points: linePosition\n  };\n}\n\nfunction getLineAreaStyle(lineItem) {\n  var lineArea = lineItem.lineArea,\n      color = lineItem.color;\n  var gradient = lineArea.gradient,\n      style = lineArea.style;\n  var fillColor = [style.fill || color];\n  var gradientColor = (0, _util.deepMerge)(fillColor, gradient);\n  if (gradientColor.length === 1) gradientColor.push(gradientColor[0]);\n  var gradientParams = getGradientParams(lineItem);\n  style = _objectSpread(_objectSpread({}, style), {}, {\n    stroke: 'rgba(0, 0, 0, 0)'\n  });\n  return (0, _util.deepMerge)({\n    gradientColor: gradientColor,\n    gradientParams: gradientParams,\n    gradientType: 'linear',\n    gradientWith: 'fill'\n  }, style);\n}\n\nfunction getGradientParams(lineItem) {\n  var lineFillBottomPos = lineItem.lineFillBottomPos,\n      linePosition = lineItem.linePosition;\n  var changeIndex = lineFillBottomPos.changeIndex,\n      changeValue = lineFillBottomPos.changeValue;\n  var mainPos = linePosition.map(function (p) {\n    return p[changeIndex];\n  });\n  var maxPos = Math.max.apply(Math, (0, _toConsumableArray2[\"default\"])(mainPos));\n  var minPos = Math.min.apply(Math, (0, _toConsumableArray2[\"default\"])(mainPos));\n  var beginPos = maxPos;\n  if (changeIndex === 1) beginPos = minPos;\n\n  if (changeIndex === 1) {\n    return [0, beginPos, 0, changeValue];\n  } else {\n    return [beginPos, 0, changeValue, 0];\n  }\n}\n\nfunction lineAreaDrawed(_ref5, _ref6) {\n  var lineFillBottomPos = _ref5.lineFillBottomPos,\n      shape = _ref5.shape;\n  var ctx = _ref6.ctx;\n  var points = shape.points;\n  var changeIndex = lineFillBottomPos.changeIndex,\n      changeValue = lineFillBottomPos.changeValue;\n  var linePoint1 = (0, _toConsumableArray2[\"default\"])(points[points.length - 1]);\n  var linePoint2 = (0, _toConsumableArray2[\"default\"])(points[0]);\n  linePoint1[changeIndex] = changeValue;\n  linePoint2[changeIndex] = changeValue;\n  ctx.lineTo.apply(ctx, (0, _toConsumableArray2[\"default\"])(linePoint1));\n  ctx.lineTo.apply(ctx, (0, _toConsumableArray2[\"default\"])(linePoint2));\n  ctx.closePath();\n  ctx.fill();\n}\n\nfunction getStartLineAreaConfig(lineItem) {\n  var config = getLineAreaConfig(lineItem)[0];\n\n  var style = _objectSpread({}, config.style);\n\n  style.opacity = 0;\n  config.style = style;\n  return [config];\n}\n\nfunction beforeUpdateLineAndArea(graphs, lineItem, i, updater) {\n  var cache = graphs[i];\n  if (!cache) return;\n  var currentName = getLineGraphName(lineItem);\n  var render = updater.chart.render;\n  var name = cache[0].name;\n  var delAll = currentName !== name;\n  if (!delAll) return;\n  cache.forEach(function (g) {\n    return render.delGraph(g);\n  });\n  graphs[i] = null;\n}\n\nfunction beforeChangeLineAndArea(graph, config) {\n  var points = config.shape.points;\n  var graphPoints = graph.shape.points;\n  var graphPointsNum = graphPoints.length;\n  var pointsNum = points.length;\n\n  if (pointsNum > graphPointsNum) {\n    var lastPoint = graphPoints.slice(-1)[0];\n    var newAddPoints = new Array(pointsNum - graphPointsNum).fill(0).map(function (foo) {\n      return (0, _toConsumableArray2[\"default\"])(lastPoint);\n    });\n    graphPoints.push.apply(graphPoints, (0, _toConsumableArray2[\"default\"])(newAddPoints));\n  } else if (pointsNum < graphPointsNum) {\n    graphPoints.splice(pointsNum);\n  }\n}\n\nfunction getLineConfig(lineItem) {\n  var animationCurve = lineItem.animationCurve,\n      animationFrame = lineItem.animationFrame,\n      rLevel = lineItem.rLevel;\n  return [{\n    name: getLineGraphName(lineItem),\n    index: rLevel + 1,\n    animationCurve: animationCurve,\n    animationFrame: animationFrame,\n    shape: getLineAndAreaShape(lineItem),\n    style: getLineStyle(lineItem)\n  }];\n}\n\nfunction getLineGraphName(lineItem) {\n  var smooth = lineItem.smooth;\n  return smooth ? 'smoothline' : 'polyline';\n}\n\nfunction getLineStyle(lineItem) {\n  var lineStyle = lineItem.lineStyle,\n      color = lineItem.color,\n      smooth = lineItem.smooth,\n      linePosition = lineItem.linePosition;\n  var lineLength = getLineLength(linePosition, smooth);\n  return (0, _util.deepMerge)({\n    stroke: color,\n    lineDash: [lineLength, 0]\n  }, lineStyle);\n}\n\nfunction getLineLength(points) {\n  var smooth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (!smooth) return (0, _util.getPolylineLength)(points);\n  var curve = polylineToBezierCurve(points);\n  return getBezierCurveLength(curve);\n}\n\nfunction getStartLineConfig(lineItem) {\n  var lineDash = lineItem.lineStyle.lineDash;\n  var config = getLineConfig(lineItem)[0];\n  var realLineDash = config.style.lineDash;\n\n  if (lineDash) {\n    realLineDash = [0, 0];\n  } else {\n    realLineDash = (0, _toConsumableArray2[\"default\"])(realLineDash).reverse();\n  }\n\n  config.style.lineDash = realLineDash;\n  return [config];\n}\n\nfunction getPointConfig(lineItem) {\n  var animationCurve = lineItem.animationCurve,\n      animationFrame = lineItem.animationFrame,\n      rLevel = lineItem.rLevel;\n  var shapes = getPointShapes(lineItem);\n  var style = getPointStyle(lineItem);\n  return shapes.map(function (shape) {\n    return {\n      name: 'circle',\n      index: rLevel + 2,\n      visible: lineItem.linePoint.show,\n      animationCurve: animationCurve,\n      animationFrame: animationFrame,\n      shape: shape,\n      style: style\n    };\n  });\n}\n\nfunction getPointShapes(lineItem) {\n  var linePosition = lineItem.linePosition,\n      radius = lineItem.linePoint.radius;\n  return linePosition.map(function (_ref7) {\n    var _ref8 = (0, _slicedToArray2[\"default\"])(_ref7, 2),\n        rx = _ref8[0],\n        ry = _ref8[1];\n\n    return {\n      r: radius,\n      rx: rx,\n      ry: ry\n    };\n  });\n}\n\nfunction getPointStyle(lineItem) {\n  var color = lineItem.color,\n      style = lineItem.linePoint.style;\n  return (0, _util.deepMerge)({\n    stroke: color\n  }, style);\n}\n\nfunction getStartPointConfig(lineItem) {\n  var configs = getPointConfig(lineItem);\n  configs.forEach(function (config) {\n    config.shape.r = 0.1;\n  });\n  return configs;\n}\n\nfunction getLabelConfig(lineItem) {\n  var animationCurve = lineItem.animationCurve,\n      animationFrame = lineItem.animationFrame,\n      rLevel = lineItem.rLevel;\n  var shapes = getLabelShapes(lineItem);\n  var style = getLabelStyle(lineItem);\n  return shapes.map(function (shape, i) {\n    return {\n      name: 'text',\n      index: rLevel + 3,\n      visible: lineItem.label.show,\n      animationCurve: animationCurve,\n      animationFrame: animationFrame,\n      shape: shape,\n      style: style\n    };\n  });\n}\n\nfunction getLabelShapes(lineItem) {\n  var contents = formatterLabel(lineItem);\n  var position = getLabelPosition(lineItem);\n  return contents.map(function (content, i) {\n    return {\n      content: content,\n      position: position[i]\n    };\n  });\n}\n\nfunction getLabelPosition(lineItem) {\n  var linePosition = lineItem.linePosition,\n      lineFillBottomPos = lineItem.lineFillBottomPos,\n      label = lineItem.label;\n  var position = label.position,\n      offset = label.offset;\n  var changeIndex = lineFillBottomPos.changeIndex,\n      changeValue = lineFillBottomPos.changeValue;\n  return linePosition.map(function (pos) {\n    if (position === 'bottom') {\n      pos = (0, _toConsumableArray2[\"default\"])(pos);\n      pos[changeIndex] = changeValue;\n    }\n\n    if (position === 'center') {\n      var bottom = (0, _toConsumableArray2[\"default\"])(pos);\n      bottom[changeIndex] = changeValue;\n      pos = getCenterLabelPoint(pos, bottom);\n    }\n\n    return getOffsetedPoint(pos, offset);\n  });\n}\n\nfunction getOffsetedPoint(_ref9, _ref10) {\n  var _ref11 = (0, _slicedToArray2[\"default\"])(_ref9, 2),\n      x = _ref11[0],\n      y = _ref11[1];\n\n  var _ref12 = (0, _slicedToArray2[\"default\"])(_ref10, 2),\n      ox = _ref12[0],\n      oy = _ref12[1];\n\n  return [x + ox, y + oy];\n}\n\nfunction getCenterLabelPoint(_ref13, _ref14) {\n  var _ref15 = (0, _slicedToArray2[\"default\"])(_ref13, 2),\n      ax = _ref15[0],\n      ay = _ref15[1];\n\n  var _ref16 = (0, _slicedToArray2[\"default\"])(_ref14, 2),\n      bx = _ref16[0],\n      by = _ref16[1];\n\n  return [(ax + bx) / 2, (ay + by) / 2];\n}\n\nfunction formatterLabel(lineItem) {\n  var data = lineItem.data,\n      formatter = lineItem.label.formatter;\n  data = data.filter(function (d) {\n    return typeof d === 'number';\n  }).map(function (d) {\n    return d.toString();\n  });\n  if (!formatter) return data;\n  var type = (0, _typeof2[\"default\"])(formatter);\n  if (type === 'string') return data.map(function (d) {\n    return formatter.replace('{value}', d);\n  });\n  if (type === 'function') return data.map(function (value, index) {\n    return formatter({\n      value: value,\n      index: index\n    });\n  });\n  return data;\n}\n\nfunction getLabelStyle(lineItem) {\n  var color = lineItem.color,\n      style = lineItem.label.style;\n  return (0, _util.deepMerge)({\n    fill: color\n  }, style);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}