<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>File specification - 人车模拟</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "File specification";
        var mkdocs_page_input_path = "file_specification.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> 人车模拟
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">首页</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">人车模拟</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">File specification</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/OpenHUTB/doc/edit/master/docs/file_specification.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="_1"><a href="">各模块的实现文档</a></h1>
<p><img alt="CARLA Modules" src="../img/build_modules.jpg" /></p>
<p>从功能文档转到实现文档。</p>
<h2 id="carlalibcarla">一、Carla库：<a href="https://openhutb.github.io/carla_cpp/dir_b14cdd661f9a7048a44f1771cd402401.html">LibCarla</a></h2>
<ul>
<li><a href="../modules/client/">客户端</a> <a href="https://openhutb.github.io/carla_cpp/dir_64d7bb605f27024d49af86070bd3f0b6.html">client</a></li>
<li><a href="../modules/geom/">几何变换</a> <a href="https://openhutb.github.io/carla_cpp/dir_8b032d9d353dba85c86dc5364d785bbe.html">geom</a></li>
<li><a href="../modules/image/">图像</a> <a href="https://openhutb.github.io/carla_cpp/dir_f5e43f88654384cf885b20b39b543425.html">image</a></li>
<li><a href="../modules/multigpu/">多GPU</a> <a href="https://openhutb.github.io/carla_cpp/dir_a2af28fa3ae0e0a62585ff5a8c898ebe.html">multigpu</a></li>
<li><a href="../modules/nav/">导航</a> <a href="https://openhutb.github.io/carla_cpp/dir_ad0f87b2245230d21b267626b2c7750a.html">nav</a></li>
<li><a href="../modules/opendirve/">路网</a> <a href="https://openhutb.github.io/carla_cpp/dir_a02f1db122f1bf0661014bee93740912.html">opendirve</a></li>
<li><a href="../modules/pointcloud/">点云</a> <a href="https://openhutb.github.io/carla_cpp/dir_ba5554cd20e2d3b81742218af28f1632.html">pointcloud</a></li>
<li><a href="../modules/profiler/">性能分析器</a> <a href="https://openhutb.github.io/carla_cpp/dir_a44fab28cda52915bea048e19f74f82b.html">profiler</a></li>
<li><a href="../modules/pytorch/">深度模型</a> <a href="https://openhutb.github.io/carla_cpp/dir_1d6fac9cb22f8ab199e8be0190976796.html">pytorch</a> </li>
<li><a href="../modules/road/">道路</a> <a href="https://openhutb.github.io/carla_cpp/dir_8afc3b5d71d319c27bc8bd38d925daae.html">road</a></li>
<li><a href="../modules/ros2/">机器人操作系统</a> <a href="https://openhutb.github.io/carla_cpp/dir_087ce8304d10c4897e4acbeac1a6fcc8.html">ros2</a></li>
<li><a href="../modules/rpc/">远程过程调用</a> <a href="https://openhutb.github.io/carla_cpp/dir_83201f30ace02cdf218980110872f8a7.html">rpc</a></li>
<li><a href="../modules/rpc/">责任敏感安全</a> <a href="https://openhutb.github.io/carla_cpp/dir_4ec6c576fb70278fb3ee02e044838f82.html">rss</a></li>
<li><a href="../modules/sensor/">传感器</a> <a href="https://openhutb.github.io/carla_cpp/dir_8b842c0ad24262c95de16c440fd51527.html">sensor</a></li>
<li><a href="../modules/streaming/">流式传输</a> <a href="https://openhutb.github.io/carla_cpp/dir_6d1a5b6c73cd09063239376f47f02d88.html">streaming</a></li>
<li><a href="../modules/trafficmanager/">交通管理器</a> <a href="https://openhutb.github.io/carla_cpp/dir_a8dbe3691941680fc0b6dad001059c22.html">trafficmanager</a></li>
</ul>
<h2 id="carlaunreal">二、虚幻插件：<a href="https://openhutb.github.io/carla_cpp/dir_8fc34afb5f07a67966c78bf5319f94ae.html">CarlaUnreal</a></h2>
<ul>
<li><a href="../modules/Actor/">参与者</a> <a href="https://openhutb.github.io/carla_cpp/dir_31691989b6ffa820edb06b9eb32cc520.html">Actor</a></li>
<li><a href="../modules/AI/">人工智能</a> <a href="https://openhutb.github.io/carla_cpp/dir_cff6f5bec63abb9e5f12c0f62b47389c.html">AI</a></li>
<li><a href="../modules/BlueprintLibary/">蓝图库</a> <a href="https://openhutb.github.io/carla_cpp/dir_bd6d94ad3c7534d0f2d8b3ea8c626bc5.html">BlueprintLibary</a></li>
<li><a href="../modules/Commandlet/">命令</a> <a href="https://openhutb.github.io/carla_cpp/dir_b73fafeaa93af49306e77afd3c0d0eef.html">Commandlet</a></li>
<li><a href="../modules/Game/">游戏</a> <a href="https://openhutb.github.io/carla_cpp/dir_b708e75f0564cefaa95a07ef1c60fa1d.html">Game</a></li>
<li><a href="../modules/Lights/">灯光</a> <a href="https://openhutb.github.io/carla_cpp/dir_300f092198dff90fa236d1c5a9b26b0c.html">Lights</a></li>
<li><a href="../modules/MapGen/">地图生成</a> <a href="https://openhutb.github.io/carla_cpp/dir_3e9aec868781f29a05b56aecc37cd1a9.html">MapGen</a></li>
<li><a href="../modules/Math/">数学</a> <a href="https://openhutb.github.io/carla_cpp/dir_f9cdfd101429e27d647f8df664b6ebd1.html">Math</a></li>
<li><a href="../modules/OpenDrive/">路网</a> <a href="https://openhutb.github.io/carla_cpp/dir_d0b0d7f8e453984c2ffe9ea659d3c27f.html">OpenDrive</a></li>
<li><a href="../modules/Recorder/">记录器</a> <a href="https://openhutb.github.io/carla_cpp/dir_0dd3f6464b0e5c5db135a4b73b996175.html">Recorder</a></li>
<li><a href="../modules/Sensor_UE/">传感器</a> <a href="https://openhutb.github.io/carla_cpp/dir_32df69f29a08a23c97cd630e5cd47b2e.html">Sensor</a></li>
<li><a href="../modules/Server/">服务端</a> <a href="https://openhutb.github.io/carla_cpp/dir_4f477b896248adf10c6909a9eb9fb7d3.html">Server</a></li>
<li><a href="../modules/Settings/">设置</a> <a href="https://openhutb.github.io/carla_cpp/dir_61a866aca8f5011fad0bfe0df06e6f79.html">Settings</a></li>
<li><a href="../modules/Traffic/">交通</a> <a href="https://openhutb.github.io/carla_cpp/dir_cf78ae8ffd0f6192e117b8a1751c2bbd.html">Traffic</a></li>
<li><a href="../modules/Trigger/">触发器</a> <a href="https://openhutb.github.io/carla_cpp/dir_6c62abedd72e3007bc03a7fda3037637.html">Trigger</a></li>
<li><a href="../modules/Util/">工具</a> <a href="https://openhutb.github.io/carla_cpp/dir_c0211e659583c36c301432102f960843.html">Util</a></li>
<li><a href="../modules/Vegetation/">植被</a> <a href="https://openhutb.github.io/carla_cpp/dir_a3491c9b10b5a3d0703facb105cd4941.html">Vegetation</a></li>
<li><a href="../modules/Vehicle/">车辆</a> <a href="https://openhutb.github.io/carla_cpp/dir_4d620431c9b0dc62fca23e1ed91a49b6.html">Vehicle</a></li>
<li><a href="../modules/Walker/">行人</a> <a href="https://openhutb.github.io/carla_cpp/dir_7a44753a182d2dd0cd15cfa7be7c0c89.html">Walker</a></li>
<li><a href="../modules/Weather/">天气</a> <a href="https://openhutb.github.io/carla_cpp/dir_b3a8bd261fb98563f858806beb7e2741.html">Weather</a></li>
<li><a href="../modules/DReyeVR/">虚拟现实</a> <a href="https://github.com/OpenHUTB/carla/tree/OpenHUTB/Unreal/CarlaUE4/Source/CarlaUE4/DReyeVR">Source/CarlaUE4/DReyeVR</a></li>
</ul>
<h2 id="carla-content">三、虚幻场景：<a href="https://bitbucket.org/carla-simulator/carla-content/src/master/">carla-content</a></h2>
<h3 id="31-blueprints">3.1 <a href="../modules/Blueprints/">蓝图</a>  <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/">Blueprints</a></h3>
<ul>
<li><a href="../modules/Game_BP/">游戏</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Game/">Game</a></li>
<li><a href="../modules/LevelDesign_BP/">关卡设计</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/LevelDesign/">LevelDesign</a></li>
<li><a href="../modules/Lights_BP/">灯光</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Lights/">Lights</a></li>
<li><a href="../modules/Props_BP/">道具</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Props/">Props</a></li>
<li><a href="../modules/Testing_BP/">测试</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Testing/">Testing</a></li>
<li><a href="../modules/TrafficLight_BP/">交通信号灯</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/TrafficLight/">TrafficLight</a></li>
<li><a href="../modules/USDImportTemplates_BP/">通用场景描述(USD) 资产导入模板</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/USDImportTemplates/">USDImportTemplates</a></li>
<li><a href="../modules/Vehicles_BP/">车辆</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Vehicles/">Vehicles</a></li>
<li><a href="../modules/Walkers_BP/">行人</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Blueprints/Walkers/">Walkers</a></li>
</ul>
<h3 id="32-static">3.2 <a href="../modules/Static/">静态资产</a> <a href="https://bitbucket.org/carla-simulator/carla-content/src/master/Static/">Static</a></h3>
<h2 id="_2">附加</h2>
<p><a href="../demo/figure/">绘图指南</a></p>
<p>通用C++相关文档请参考 <a href="../ref_cpp/">链接</a> 。</p>
<h2 id="_3">构建步骤分析</h2>
<h3 id="utilbuildtools">编译：Util/BuildTools/*</h3>
<p><img alt="" src="../img/tuto_D_windows_debug/file_specification_build_tools.png" /></p>
<ul>
<li>BuildUE4Plugins.bat : 构建虚幻引擎插件 StreetMap </li>
<li>Setup.bat：调用<code>Util/InstallersWin/*.bat</code>下载并生成 zlib、libpng、rpclib、Google Test、Recast &amp; Detour、Fast-DDS (for ROS2)、Boost、Xercesc、Sqlite3、PROJ、Eigen、Chrono 库；设置资产下载URL；生成CMakeLists.txt.in；</li>
<li>BuildLibCarla.bat：创建LibCarla的客户端和服务端；</li>
<li>BuildOSM2ODR.bat：创建OSM转OpenDRIVE的库；</li>
</ul>
<h3 id="updatebat">Update.bat</h3>
<ol>
<li>环境变量初始化；</li>
<li>获取最新的资产包；</li>
<li>
<p>下载并解压资产内容；</p>
<p>如果不存在7zip就用<code>powershell -Command "Expand-Archive '</code>命令进行解压。</p>
</li>
</ol>
<h4 id="makefile"><a href="https://seisman.github.io/how-to-write-makefile/index.html">Makefile</a></h4>
<ol>
<li>
<p><code>make PythonAPI</code></p>
<p>执行<code>Util/BuildTools/BuildPythonAPI.bat</code>，真正执行的是<code>python setup.py bdist_egg bdist_wheel</code>，在<code>PythonAPI/carla/dist</code>目录下生成<code>*.egg</code>和<code>*.whl</code>文件；</p>
</li>
<li>
<p><code>make launch</code></p>
<p>执行<code>Makefile</code>，调用<code>Util/BuildTools/Windows.mk</code>，真正执行的是<code>BuildLibCarla.bat</code>，构建LibCarla的服务端和客户端；</p>
</li>
</ol>
<h3 id="build">Build</h3>
<ul>
<li><code>Xerces</code>是由 Apache 组织所推动的一项 XML 文档解析开源项目。</li>
<li><code>SQLite</code>是一款轻型的数据库，是遵守 ACID 的关系型数据库管理系统，它包含在一个相对小的C库中。</li>
<li><code>PROJ</code>是一种通用坐标转换软件，它将坐标从一个坐标参考系（CRS）转换为另一个坐标参考系。这包括地图投影和大地坐标变换。</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/OpenHUTB/doc" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script>
      <script src="../js/umlconvert.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
